module.exports=function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=112)}([function(e,t){e.exports=require("auth0-extension-tools@1.3.2")},function(e,t){e.exports=require("express@4.14.0")},function(e,t,n){"use strict";function r(e){return"[object Array]"===x.call(e)}function o(e){return"[object ArrayBuffer]"===x.call(e)}function i(e){return"undefined"!=typeof FormData&&e instanceof FormData}function s(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer}function a(e){return"string"==typeof e}function u(e){return"number"==typeof e}function c(e){return void 0===e}function l(e){return null!==e&&"object"==typeof e}function f(e){return"[object Date]"===x.call(e)}function d(e){return"[object File]"===x.call(e)}function p(e){return"[object Blob]"===x.call(e)}function h(e){return"[object Function]"===x.call(e)}function m(e){return l(e)&&h(e.pipe)}function v(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams}function g(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}function y(){return"undefined"!=typeof window&&"undefined"!=typeof document&&"function"==typeof document.createElement}function _(e,t){if(null!==e&&void 0!==e)if("object"==typeof e||r(e)||(e=[e]),r(e))for(var n=0,o=e.length;n<o;n++)t.call(null,e[n],n,e);else for(var i in e)e.hasOwnProperty(i)&&t.call(null,e[i],i,e)}function b(){function e(e,n){"object"==typeof t[n]&&"object"==typeof e?t[n]=b(t[n],e):t[n]=e}for(var t={},n=0,r=arguments.length;n<r;n++)_(arguments[n],e);return t}function w(e,t,n){return _(t,function(t,r){e[r]=n&&"function"==typeof t?E(t,n):t}),e}var E=n(39),x=Object.prototype.toString;e.exports={isArray:r,isArrayBuffer:o,isFormData:i,isArrayBufferView:s,isString:a,isNumber:u,isObject:l,isUndefined:c,isDate:f,isFile:d,isBlob:p,isFunction:h,isStream:m,isURLSearchParams:v,isStandardBrowserEnv:y,forEach:_,merge:b,extend:w,trim:g}},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t,n){var r=n(53)("wks"),o=n(58),i=n(3).Symbol,s="function"==typeof i;(e.exports=function(e){return r[e]||(r[e]=s&&i[e]||(s?i:o)("Symbol."+e))}).store=r},function(e,t){var n=e.exports={version:"2.5.1"};"number"==typeof __e&&(__e=n)},function(e,t,n){"use strict";e.exports=n(0).config()},function(e,t,n){var r=n(15);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t,n){e.exports=n(80)},function(e,t,n){e.exports=!n(29)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t,n){var r=n(3),o=n(5),i=n(21),s=n(11),a=function(e,t,n){var u,c,l,f=e&a.F,d=e&a.G,p=e&a.S,h=e&a.P,m=e&a.B,v=e&a.W,g=d?o:o[t]||(o[t]={}),y=g.prototype,_=d?r:p?r[t]:(r[t]||{}).prototype;d&&(n=t);for(u in n)(c=!f&&_&&void 0!==_[u])&&u in g||(l=c?_[u]:n[u],g[u]=d&&"function"!=typeof _[u]?n[u]:m&&c?i(l,r):v&&_[u]==l?function(e){var t=function(t,n,r){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,r)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(l):h&&"function"==typeof l?i(Function.call,l):l,h&&((g.virtual||(g.virtual={}))[u]=l,e&a.R&&y&&!y[u]&&s(y,u,l)))};a.F=1,a.G=2,a.S=4,a.P=8,a.B=16,a.W=32,a.U=64,a.R=128,e.exports=a},function(e,t,n){var r=n(17),o=n(52);e.exports=n(9)?function(e,t,n){return r.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t){e.exports=require("lodash@3.10.1")},function(e,t,n){const r=n(77),o=n(36),i=n(70),s=n(76);e.exports.createServer=r.createServer,e.exports.urlHelpers=o,e.exports.middlewares=i,e.exports.routes=s},function(e,t,n){"use strict";var r=n(193);r.emitErrs=!0;var o=new r.Logger({transports:[new r.transports.Console({timestamp:!0,level:"debug",handleExceptions:!0,json:!1,colorize:!0})],exitOnError:!1});e.exports=o,e.exports.stream={write:function(e){o.info(e.replace(/\n$/,""))}}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t){e.exports={}},function(e,t,n){var r=n(7),o=n(125),i=n(145),s=Object.defineProperty;t.f=n(9)?Object.defineProperty:function(e,t,n){if(r(e),t=i(t,!0),r(n),o)try{return s(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.USER_ACCESS_LEVEL=1,t.ADMIN_ACCESS_LEVEL=2,t.USER_ROLE_NAME="Delegated Admin - User",t.ADMIN_ROLE_NAME="Delegated Admin - Administrator",t.VALID_SCRIPTS=["access","filter","create","memberships","settings"]},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){var r=n(19);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,o){return e.call(t,n,r,o)}}return function(){return e.apply(t,arguments)}}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t){e.exports=require("bluebird@3.4.6")},function(e,t){e.exports=require("url")},function(e,t,n){"use strict";var r=n(37);e.exports=function(e,t,n,o){var i=new Error(e);return r(i,t,n,o)}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.verifyUserAccess=t.hasAccessLevel=t.getUserAccessLevel=void 0;var o=n(95),i=r(o),s=n(96),a=r(s),u=n(97),c=r(u);t.getUserAccessLevel=i.default,t.hasAccessLevel=a.default,t.verifyUserAccess=c.default},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){var r=n(15),o=n(3).document,i=r(o)&&r(o.createElement);e.exports=function(e){return i?o.createElement(e):{}}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){"use strict";function r(e){var t,n;this.promise=new e(function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r}),this.resolve=o(t),this.reject=o(n)}var o=n(19);e.exports.f=function(e){return new r(e)}},function(e,t,n){var r=n(17).f,o=n(22),i=n(4)("toStringTag");e.exports=function(e,t,n){e&&!o(e=n?e:e.prototype,i)&&r(e,i,{configurable:!0,value:t})}},function(e,t,n){var r=n(53)("keys"),o=n(58);e.exports=function(e){return r[e]||(r[e]=o(e))}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t,n){var r=n(46),o=n(27);e.exports=function(e){return r(o(e))}},function(e,t){e.exports=require("path")},function(e,t,n){function r(e){if(!e.container)return null;const t=e.container.replace(u,"\\$&"),n=e.jtn?e.jtn.replace(u,"\\$&"):"";if(e.url_format===a)return new RegExp("^/api/run/"+t+"/(?:"+n+"/?)?");if(e.url_format===s)return new RegExp("^/"+t+"/(?:"+n+"/?)?");if(e.url_format===i)return new RegExp("^/(?:"+n+"/?)?");throw new Error("Unsupported webtask URL format.")}const o=n(24),i=3,s=2,a=1,u=/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,c=function(e,t){var n=o.parse(e).pathname||"";return n=n.replace(t,"").replace(/^\/|\/$/g,""),n.startsWith("/")||(n="/"+n),n.endsWith("/")||(n+="/"),n};e.exports.getBasePath=function(e){return c(e.originalUrl||"",e.path)},e.exports.getBaseUrl=function(e,t){var n=t;const r=o.parse(e.originalUrl||"").pathname||"";return o.format({protocol:n||"https",host:e.headers.host,pathname:r.replace(e.path,"").replace(/\/$/g,"")})},e.exports.getWebtaskUrl=function(e){const t=r(e.x_wt),n=e.url,i=e.url.replace(t,"/"),s=o.parse(i||"").pathname,a=o.parse(n||"").pathname||"";var u=o.format({protocol:"https",host:e.headers.host,pathname:a.replace(s,"").replace(/\/$/g,"")});return e.x_wt&&(0===u.indexOf("https://sandbox.it.auth0.com")?u=u.replace("https://sandbox.it.auth0.com/api/run/"+e.x_wt.container+"/","https://"+e.x_wt.container+".us.webtask.io/"):0===u.indexOf("https://sandbox-eu.it.auth0.com")?u=u.replace("https://sandbox-eu.it.auth0.com/api/run/"+e.x_wt.container+"/","https://"+e.x_wt.container+".eu.webtask.io/"):0===u.indexOf("https://sandbox-au.it.auth0.com")&&(u=u.replace("https://sandbox-au.it.auth0.com/api/run/"+e.x_wt.container+"/","https://"+e.x_wt.container+".au.webtask.io/"))),u}},function(e,t,n){"use strict";e.exports=function(e,t,n,r){return e.config=t,n&&(e.code=n),e.response=r,e}},function(e,t,n){"use strict";var r=n(25);e.exports=function(e,t,n){var o=n.config.validateStatus;n.status&&o&&!o(n.status)?t(r("Request failed with status code "+n.status,n.config,null,n)):e(n)}},function(e,t,n){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},function(e,t,n){"use strict";function r(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var o=n(2);e.exports=function(e,t,n){if(!t)return e;var i;if(n)i=n(t);else if(o.isURLSearchParams(t))i=t.toString();else{var s=[];o.forEach(t,function(e,t){null!==e&&void 0!==e&&(o.isArray(e)&&(t+="[]"),o.isArray(e)||(e=[e]),o.forEach(e,function(e){o.isDate(e)?e=e.toISOString():o.isObject(e)&&(e=JSON.stringify(e)),s.push(r(t)+"="+r(e))}))}),i=s.join("&")}return i&&(e+=(-1===e.indexOf("?")?"?":"&")+i),e}},function(e,t,n){"use strict";var r=n(169);e.exports=function(e,t,n){return function(o,i,s){var a=r(s);return!0===e||"function"==typeof e&&e(o,i,a)?t(o,i,a):n?n(o,i,a):a()}}},function(e,t,n){"use strict";t.__esModule=!0;var r=n(113),o=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default=o.default||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}},function(e,t,n){var r=n(20),o=n(4)("toStringTag"),i="Arguments"==r(function(){return arguments}()),s=function(e,t){try{return e[t]}catch(e){}};e.exports=function(e){var t,n,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=s(t=Object(e),o))?n:i?r(t):"Object"==(a=r(t))&&"function"==typeof t.callee?"Arguments":a}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,n){var r=n(3).document;e.exports=r&&r.documentElement},function(e,t,n){var r=n(20);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t,n){"use strict";var r=n(48),o=n(10),i=n(141),s=n(11),a=n(22),u=n(16),c=n(129),l=n(31),f=n(137),d=n(4)("iterator"),p=!([].keys&&"next"in[].keys()),h=function(){return this};e.exports=function(e,t,n,m,v,g,y){c(n,t,m);var _,b,w,E=function(e){if(!p&&e in T)return T[e];switch(e){case"keys":case"values":return function(){return new n(this,e)}}return function(){return new n(this,e)}},x=t+" Iterator",I="values"==v,A=!1,T=e.prototype,S=T[d]||T["@@iterator"]||v&&T[v],C=S||E(v),U=v?I?E("entries"):C:void 0,N="Array"==t?T.entries||S:S;if(N&&(w=f(N.call(new e)))!==Object.prototype&&w.next&&(l(w,x,!0),r||a(w,d)||s(w,d,h)),I&&S&&"values"!==S.name&&(A=!0,C=function(){return S.call(this)}),r&&!y||!p&&!A&&T[d]||s(T,d,C),u[t]=C,u[x]=h,v)if(_={values:I?C:E("values"),keys:g?C:E("keys"),entries:U},y)for(b in _)b in T||i(T,b,_[b]);else o(o.P+o.F*(p||A),t,_);return _}},function(e,t){e.exports=!0},function(e,t,n){var r=n(138),o=n(44);e.exports=Object.keys||function(e){return r(e,o)}},function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},function(e,t,n){var r=n(7),o=n(15),i=n(30);e.exports=function(e,t){if(r(e),o(t)&&t.constructor===e)return t;var n=i.f(e);return(0,n.resolve)(t),n.promise}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var r=n(3),o=r["__core-js_shared__"]||(r["__core-js_shared__"]={});e.exports=function(e){return o[e]||(o[e]={})}},function(e,t,n){var r=n(7),o=n(19),i=n(4)("species");e.exports=function(e,t){var n,s=r(e).constructor;return void 0===s||void 0==(n=r(s)[i])?t:o(n)}},function(e,t,n){var r,o,i,s=n(21),a=n(126),u=n(45),c=n(28),l=n(3),f=l.process,d=l.setImmediate,p=l.clearImmediate,h=l.MessageChannel,m=l.Dispatch,v=0,g={},y=function(){var e=+this;if(g.hasOwnProperty(e)){var t=g[e];delete g[e],t()}},_=function(e){y.call(e.data)};d&&p||(d=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return g[++v]=function(){a("function"==typeof e?e:Function(e),t)},r(v),v},p=function(e){delete g[e]},"process"==n(20)(f)?r=function(e){f.nextTick(s(y,e,1))}:m&&m.now?r=function(e){m.now(s(y,e,1))}:h?(o=new h,i=o.port2,o.port1.onmessage=_,r=s(i.postMessage,i,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(r=function(e){l.postMessage(e+"","*")},l.addEventListener("message",_,!1)):r="onreadystatechange"in c("script")?function(e){u.appendChild(c("script")).onreadystatechange=function(){u.removeChild(this),y.call(e)}}:function(e){setTimeout(s(y,e,1),0)}),e.exports={set:d,clear:p}},function(e,t,n){var r=n(33),o=Math.min;e.exports=function(e){return e>0?o(r(e),9007199254740991):0}},function(e,t,n){var r=n(27);e.exports=function(e){return Object(r(e))}},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t,n){function r(e){return e&&"[object Function]"==f.call(e)}function o(e){return function(t,n,r){return r(null,e)}}var i=n(181),s=n(156),a=n(157),u=n(174),c=n(168),l=function(e,t,n){return n(null,!1)},f={}.toString;e.exports=function(e){if(!e||!e.secret)throw new Error("secret should be set");var t=e.secret;r(t)||(t=o(t));var n=e.isRevoked||l,f=e.userProperty||e.requestProperty||"user",d=void 0===e.credentialsRequired||e.credentialsRequired,p=function(r,o,a){var l;if("OPTIONS"===r.method&&r.headers.hasOwnProperty("access-control-request-headers")){if(!!~r.headers["access-control-request-headers"].split(",").map(function(e){return e.trim()}).indexOf("authorization"))return a()}if(void 0!==e.skip&&(console.warn("WARN: express-jwt: options.skip is deprecated"),console.warn("WARN: use app.use(jwt(options).unless({path: '/x'}))"),e.skip.indexOf(r.url)>-1))return a();if(e.getToken&&"function"==typeof e.getToken)try{l=e.getToken(r)}catch(e){return a(e)}else if(r.headers&&r.headers.authorization){var p=r.headers.authorization.split(" ");if(2!=p.length)return a(new s("credentials_bad_format",{message:"Format is Authorization: Bearer [token]"}));var h=p[0],m=p[1];if(!/^Bearer$/i.test(h))return a(new s("credentials_bad_scheme",{message:"Format is Authorization: Bearer [token]"}));l=m}if(!l)return d?a(new s("credentials_required",{message:"No authorization token was found"})):a();var v=i.decode(l,{complete:!0})||{};u.waterfall([function(e){4==t.length?t(r,v.header,v.payload,e):t(r,v.payload,e)},function(t,n){i.verify(l,t,e,function(e,t){e&&d?n(new s("invalid_token",e)):n(null,t)})},function(e,t){n(r,v.payload,function(n,r){n?t(n):r?t(new s("revoked_token",{message:"The token has been revoked."})):t(null,e)})}],function(e,t){if(e)return a(e);c(r,f,t),a()})};return p.unless=a,p}},function(e,t,n){e.exports=n(158)({http:n(64),https:n(65)})},function(e,t,n){function r(e){var n,r=0;for(n in e)r=(r<<5)-r+e.charCodeAt(n),r|=0;return t.colors[Math.abs(r)%t.colors.length]}function o(e){function n(){if(n.enabled){var e=n,r=+new Date,o=r-(c||r);e.diff=o,e.prev=c,e.curr=r,c=r;for(var i=new Array(arguments.length),s=0;s<i.length;s++)i[s]=arguments[s];i[0]=t.coerce(i[0]),"string"!=typeof i[0]&&i.unshift("%O");var a=0;i[0]=i[0].replace(/%([a-zA-Z%])/g,function(n,r){if("%%"===n)return n;a++;var o=t.formatters[r];if("function"==typeof o){var s=i[a];n=o.call(e,s),i.splice(a,1),a--}return n}),t.formatArgs.call(e,i);(n.log||t.log||console.log.bind(console)).apply(e,i)}}return n.namespace=e,n.enabled=t.enabled(e),n.useColors=t.useColors(),n.color=r(e),"function"==typeof t.init&&t.init(n),n}function i(e){t.save(e),t.names=[],t.skips=[];for(var n=("string"==typeof e?e:"").split(/[\s,]+/),r=n.length,o=0;o<r;o++)n[o]&&(e=n[o].replace(/\*/g,".*?"),"-"===e[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))}function s(){t.enable("")}function a(e){var n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1}function u(e){return e instanceof Error?e.stack||e.message:e}t=e.exports=o.debug=o.default=o,t.coerce=u,t.disable=s,t.enable=i,t.enabled=a,t.humanize=n(162),t.names=[],t.skips=[],t.formatters={};var c},function(e,t,n){"use strict";function r(e){this.message=e}var o=n(167);r.prototype=new Error,r.prototype.name="InvalidTokenError",e.exports=function(e,t){if("string"!=typeof e)throw new r("Invalid token specified");t=t||{};var n=!0===t.header?0:1;try{return JSON.parse(o(e.split(".")[n]))}catch(e){throw new r("Invalid token specified: "+e.message)}},e.exports.InvalidTokenError=r},function(e,t){e.exports=require("fs")},function(e,t){e.exports=require("http")},function(e,t){e.exports=require("https")},function(e,t,n){"use strict";(function(t){function r(e){return e&&e.__esModule?e:{default:e}}var o=n(35),i=r(o),s=n(185),a=r(s),u=n(1),c=r(u),l=n(176),f=r(l),d=n(0),p=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(d),h=n(13),m=n(99),v=r(m),g=n(103),y=r(g),_=n(108),b=r(_),w=n(104),E=r(w),x=n(6),I=r(x),A=n(14),T=r(A);e.exports=function(e,n){I.default.setProvider(e);var r=n?new p.WebtaskStorageContext(n,{force:1}):new p.FileStorageContext(i.default.join(t,"./data.json"),{mergeWrites:!0}),o=new c.default;return o.use(function(e,t,n){e.webtaskContext&&I.default.setProvider(p.configProvider.fromWebtaskContext(e.webtaskContext)),n()}),o.use((0,a.default)(":method :url :status :response-time ms - :res[content-length]",{stream:T.default.stream})),o.use(f.default.json()),o.use(f.default.urlencoded({extended:!1})),o.use("/api",(0,v.default)(r)),o.use("/app",c.default.static(i.default.join(t,"../dist"))),o.use("/meta",(0,b.default)()),o.use("/.extensions",(0,y.default)()),o.get("*",(0,E.default)()),o.use(h.middlewares.errorHandler(T.default.error)),o}}).call(t,"/")},function(e,t,n){const r=n(62),o=n(59),i=n(0),s=n(41);e.exports=function(e){if(!e||"object"!=typeof e)throw new i.ArgumentError("Must provide the options");if(null===e.secret||void 0===e.secret)throw new i.ArgumentError("Must provide a valid secret");if("string"!=typeof e.secret||0===e.secret.length)throw new i.ArgumentError("The provided secret is invalid: "+e.secret);if(null===e.audience||void 0===e.audience)throw new i.ArgumentError("Must provide a valid secret");if("string"!=typeof e.audience||0===e.audience.length)throw new i.ArgumentError("The provided audience is invalid: "+e.audience);if(null===e.baseUrl||void 0===e.baseUrl)throw new i.ArgumentError("Must provide a valid base URL");if("string"!=typeof e.baseUrl||0===e.baseUrl.length)throw new i.ArgumentError("The provided base URL is invalid: "+e.baseUrl);const t=o({audience:e.audience,issuer:e.baseUrl,secret:e.secret,algorithms:["HS256"],credentialsRequired:e.credentialsRequired||!0});return function(n,r,o){t(n,r,function(t){return t?o(t):e.onLoginSuccess?e.onLoginSuccess(n,r,o):o()})}},e.exports.optional=function(t){const n=e.exports(t);return s(function(e){if(e&&e.headers&&e.headers.authorization&&0===e.headers.authorization.indexOf("Bearer "))try{const n=r(e.headers.authorization.split(" ")[1]);return n&&n.iss===t.baseUrl}catch(e){return!1}return!1},n)}},function(e,t,n){const r=n(62),o=n(59),i=n(182),s=n(0),a=n(41),u=n(0).UnauthorizedError;e.exports=function(e){if(!e||"object"!=typeof e)throw new s.ArgumentError("Must provide the options");if(null===e.domain||void 0===e.domain)throw new s.ArgumentError("Must provide a valid domain");if("string"!=typeof e.domain||0===e.domain.length)throw new s.ArgumentError("The provided domain is invalid: "+e.domain);if(null===e.audience||void 0===e.audience)throw new s.ArgumentError("Must provide a valid audience");if("string"!=typeof e.audience||0===e.audience.length)throw new s.ArgumentError("The provided audience is invalid: "+e.audience);const t=o({secret:i.expressJwtSecret({cache:!0,rateLimit:!0,jwksRequestsPerMinute:5,jwksUri:"https://"+e.domain+"/.well-known/jwks.json",handleSigningKeyError:function(e,t){return t(e instanceof i.SigningKeyNotFoundError?new u("A token was provided with an invalid kid"):e)}}),audience:e.audience,issuer:"https://"+e.domain+"/",algorithms:["RS256"],credentialsRequired:e&&e.credentialsRequired||!0});return function(n,r,o){t(n,r,function(t){return t?o(t):e.onLoginSuccess?e.onLoginSuccess(n,r,o):o()})}},e.exports.optional=function(t){const n=e.exports(t);return a(function(e){if(e&&e.headers&&e.headers.authorization&&0===e.headers.authorization.indexOf("Bearer "))try{const n=r(e.headers.authorization.split(" ")[1]);return n&&n.iss==="https://"+t.domain+"/"}catch(e){return!1}return!1},n)}},function(e,t,n){e.exports=function(e){return function(t,n,r,o){return e&&e(t),t&&t.status?(r.status(t.status),r.json({error:t.code||t.name,message:t.message||t.name})):(r.status(t.status||500),r.json({error:"InternalServerError",message:t.message||t.name}))}}},function(e,t,n){e.exports.authenticateAdmins=n(67),e.exports.authenticateUsers=n(68),e.exports.requireAuthentication=n(72),e.exports.errorHandler=n(69),e.exports.managementApiClient=n(71),e.exports.validateHookToken=n(73),e.exports.webtaskConfig=n(74)},function(e,t,n){const r=n(0);e.exports=function(e){return function(t,n,o){const i=t,s=t.user&&t.user.access_token&&t.user.access_token.length,a=s?{domain:e.domain,accessToken:t.user.access_token}:e;r.managementApi.getClient(a).then(function(e){return i.auth0=e,o(),null}).catch(function(e){o(e)})}}},function(e,t,n){const r=n(0).UnauthorizedError;e.exports=function(e,t,n){return e.user?n():n(new r("Authentication required for this endpoint."))}},function(e,t,n){const r=n(0);e.exports=function(e,t,n){if(null===e||void 0===e)throw new r.ArgumentError("Must provide the domain");if("string"!=typeof e||0===e.length)throw new r.ArgumentError("The provided domain is invalid: "+e);if(null===t||void 0===t)throw new r.ArgumentError("Must provide the webtaskUrl");if("string"!=typeof t||0===t.length)throw new r.ArgumentError("The provided webtaskUrl is invalid: "+t);if(null===n||void 0===n)throw new r.ArgumentError("Must provide the extensionSecret");if("string"!=typeof n||0===n.length)throw new r.ArgumentError("The provided extensionSecret is invalid: "+n);return function(o){if(null===o||void 0===o)throw new r.ArgumentError("Must provide the hookPath");if("string"!=typeof o||0===o.length)throw new r.ArgumentError("The provided hookPath is invalid: "+o);return function(i,s,a){if(i.headers.authorization&&"Bearer"===i.headers.authorization.split(" ")[0]){const u=i.headers.authorization.split(" ")[1];try{if(r.validateHookToken(e,t,o,n,u))return a()}catch(e){return a(e)}}return a(new r.HookTokenError("Hook token missing for the call to: "+o))}}}},function(e,t,n){const r=n(0);e.exports=function(e){return function(t,n,o){return t.webtaskContext&&e.setProvider(r.configProvider.fromWebtaskContext(t.webtaskContext)),o()}}},function(e,t,n){const r=n(1),o=n(179),i=n(178),s=n(0),a=n(36);e.exports=function(e){if(!e||"object"!=typeof e)throw new s.ArgumentError("Must provide the options");if(null===e.secret||void 0===e.secret)throw new s.ArgumentError("Must provide a valid secret");if("string"!=typeof e.secret||0===e.secret.length)throw new s.ArgumentError("The provided secret is invalid: "+e.secret);if(null===e.audience||void 0===e.audience)throw new s.ArgumentError("Must provide a valid secret");if("string"!=typeof e.audience||0===e.audience.length)throw new s.ArgumentError("The provided audience is invalid: "+e.audience);if(null===e.rta||void 0===e.rta)throw new s.ArgumentError("Must provide a valid rta");if("string"!=typeof e.rta||0===e.rta.length)throw new s.ArgumentError("The provided rta is invalid: "+e.rta);if(null===e.domain||void 0===e.domain)throw new s.ArgumentError("Must provide a valid domain");if("string"!=typeof e.domain||0===e.domain.length)throw new s.ArgumentError("The provided domain is invalid: "+e.domain);if(null===e.baseUrl||void 0===e.baseUrl)throw new s.ArgumentError("Must provide a valid base URL");if("string"!=typeof e.baseUrl||0===e.baseUrl.length)throw new s.ArgumentError("The provided base URL is invalid: "+e.baseUrl);if(null===e.clientName||void 0===e.clientName)throw new s.ArgumentError("Must provide a valid client name");if("string"!=typeof e.clientName||0===e.clientName.length)throw new s.ArgumentError("The provided client name is invalid: "+e.clientName);const t=e.stateKey||"state",n=e.urlPrefix||"",u=e.sessionStorageKey||"apiToken",c=r.Router();return c.get(n+"/login",function(r,i){const u=o.randomBytes(16).toString("hex");i.cookie(t,u);const c=new s.SessionManager(e.rta,e.domain,e.baseUrl),l=c.createAuthorizeUrl({redirectUri:a.getBaseUrl(r)+n+"/login/callback",scopes:e.scopes,expiration:e.expiration});i.redirect(l+"&state="+u)}),c.post(n+"/login/callback",i(),function(n,r,o){return n.cookies&&n.cookies[t]===n.body.state?new s.SessionManager(e.rta,e.domain,e.baseUrl).create(n.body.id_token,n.body.access_token,{secret:e.secret,issuer:e.baseUrl,audience:e.audience}).then(function(e){r.header("Content-Type","text/html"),r.status(200).send('<html><head><script type="text/javascript">sessionStorage.setItem("'+u+'", "'+e+'");window.location.href = "'+a.getBaseUrl(n)+'";<\/script></head></html>')}).catch(function(e){o(e)}):o(new s.ValidationError("Login failed. State mismatch."))}),c.get(n+"/logout",function(t,n){const r=encodeURIComponent(a.getBaseUrl(t));n.header("Content-Type","text/html"),n.status(200).send('<html><head><script type="text/javascript">sessionStorage.removeItem("'+u+'");window.location.href = "https://'+e.rta+"/v2/logout/?returnTo="+r+"&client_id="+r+'";<\/script></head></html>')}),c.get("/.well-known/oauth2-client-configuration",function(t,r){r.header("Content-Type","application/json"),r.status(200).send({redirect_uris:[a.getBaseUrl(t)+n+"/login/callback"],client_name:e.clientName,post_logout_redirect_uris:[a.getBaseUrl(t)]})}),c}},function(e,t,n){e.exports.dashboardAdmins=n(75)},function(e,t,n){const r=n(0),o=n(192);e.exports.createServer=function(e){const t=r.createServer(e);var n=null;return o.fromExpress(function(e,r){return n||(n=t(e.webtaskContext)),n(e,r)})}},function(e,t,n){"use strict";var r=n(2),o=n(38),i=n(40),s=n(64),a=n(65),u=n(60).http,c=n(60).https,l=n(24),f=n(195),d=n(163),p=n(177).Buffer,h=n(25),m=n(37);e.exports=function(e){return new Promise(function(t,v){var g,y=e.data,_=e.headers,b=!1;if(_["User-Agent"]||_["user-agent"]||(_["User-Agent"]="axios/"+d.version),y&&!r.isStream(y)){if(r.isArrayBuffer(y))y=new p(new Uint8Array(y));else{if(!r.isString(y))return v(h("Data after transformation must be a string, an ArrayBuffer, or a Stream",e));y=new p(y,"utf-8")}_["Content-Length"]=y.length}var w=void 0;if(e.auth){w=(e.auth.username||"")+":"+(e.auth.password||"")}var E=l.parse(e.url);if(!w&&E.auth){var x=E.auth.split(":");w=(x[0]||"")+":"+(x[1]||"")}w&&delete _.Authorization;var I="https:"===E.protocol,A=I?e.httpsAgent:e.httpAgent,T={hostname:E.hostname,port:E.port,path:i(E.path,e.params,e.paramsSerializer).replace(/^\?/,""),method:e.method,headers:_,agent:A,auth:w},S=e.proxy;if(!S){var C=E.protocol.slice(0,-1)+"_proxy",U=n.i({WARN_DB_SIZE:409600,MAX_MULTISELECT_USERS:5,MULTISELECT_DEBOUNCE_MS:250,PER_PAGE:10,NODE_ENV:"production",CLIENT_VERSION:"2.4.7"})[C]||n.i({WARN_DB_SIZE:409600,MAX_MULTISELECT_USERS:5,MULTISELECT_DEBOUNCE_MS:250,PER_PAGE:10,NODE_ENV:"production",CLIENT_VERSION:"2.4.7"})[C.toUpperCase()];if(U){var N=l.parse(U);S={host:N.hostname,port:N.port}}}S&&(T.host=S.host,T.port=S.port,T.path=E.protocol+"//"+E.hostname+(E.port?":"+E.port:"")+T.path);var O;0===e.maxRedirects?O=I?a:s:(e.maxRedirects&&(T.maxRedirects=e.maxRedirects),O=I?c:u);var j=O.request(T,function(n){if(!b){clearTimeout(g),g=null;var r=n;switch(n.headers["content-encoding"]){case"gzip":case"compress":case"deflate":r=r.pipe(f.createUnzip()),delete n.headers["content-encoding"]}var i={status:n.statusCode,statusText:n.statusMessage,headers:n.headers,config:e,request:j};if("stream"===e.responseType)i.data=r,o(t,v,i);else{var s=[];r.on("data",function(t){s.push(t),e.maxContentLength>-1&&p.concat(s).length>e.maxContentLength&&v(h("maxContentLength size of "+e.maxContentLength+" exceeded",e))}),r.on("error",function(t){b||v(m(t,e))}),r.on("end",function(){var n=p.concat(s);"arraybuffer"!==e.responseType&&(n=n.toString("utf8")),i.data=n,o(t,v,i)})}}});j.on("error",function(t){b||v(m(t,e))}),e.timeout&&!g&&(g=setTimeout(function(){j.abort(),v(h("timeout of "+e.timeout+"ms exceeded",e,"ECONNABORTED")),b=!0},e.timeout)),r.isStream(y)?y.pipe(j):j.end(y)})}},function(e,t,n){"use strict";var r=n(2),o=n(38),i=n(40),s=n(92),a=n(90),u=n(25),c="undefined"!=typeof window&&window.btoa||n(86);e.exports=function(e){return new Promise(function(t,l){var f=e.data,d=e.headers;r.isFormData(f)&&delete d["Content-Type"];var p=new XMLHttpRequest,h="onreadystatechange",m=!1;if("undefined"==typeof window||!window.XDomainRequest||"withCredentials"in p||a(e.url)||(p=new window.XDomainRequest,h="onload",m=!0,p.onprogress=function(){},p.ontimeout=function(){}),e.auth){var v=e.auth.username||"",g=e.auth.password||"";d.Authorization="Basic "+c(v+":"+g)}if(p.open(e.method.toUpperCase(),i(e.url,e.params,e.paramsSerializer),!0),p.timeout=e.timeout,p[h]=function(){if(p&&(4===p.readyState||m)&&0!==p.status){var n="getAllResponseHeaders"in p?s(p.getAllResponseHeaders()):null,r=e.responseType&&"text"!==e.responseType?p.response:p.responseText,i={data:r,status:1223===p.status?204:p.status,statusText:1223===p.status?"No Content":p.statusText,headers:n,config:e,request:p};o(t,l,i),p=null}},p.onerror=function(){l(u("Network Error",e)),p=null},p.ontimeout=function(){l(u("timeout of "+e.timeout+"ms exceeded",e,"ECONNABORTED")),p=null},r.isStandardBrowserEnv()){var y=n(88),_=(e.withCredentials||a(e.url))&&e.xsrfCookieName?y.read(e.xsrfCookieName):void 0;_&&(d[e.xsrfHeaderName]=_)}if("setRequestHeader"in p&&r.forEach(d,function(e,t){void 0===f&&"content-type"===t.toLowerCase()?delete d[t]:p.setRequestHeader(t,e)}),e.withCredentials&&(p.withCredentials=!0),e.responseType)try{p.responseType=e.responseType}catch(e){if("json"!==p.responseType)throw e}"function"==typeof e.onDownloadProgress&&p.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&p.upload&&p.upload.addEventListener("progress",e.onUploadProgress),void 0===f&&(f=null),p.send(f)})}},function(e,t,n){"use strict";function r(e){var t=new s(e),n=i(s.prototype.request,t);return o.extend(n,s.prototype,t),o.extend(n,t),n}var o=n(2),i=n(39),s=n(81),a=r();a.Axios=s,a.create=function(e){return r(e)},a.all=function(e){return Promise.all(e)},a.spread=n(93),e.exports=a,e.exports.default=a},function(e,t,n){"use strict";function r(e){this.defaults=i.merge(o,e),this.interceptors={request:new s,response:new s}}var o=n(85),i=n(2),s=n(82),a=n(83),u=n(89),c=n(87);r.prototype.request=function(e){"string"==typeof e&&(e=i.merge({url:arguments[0]},arguments[1])),e=i.merge(o,this.defaults,{method:"get"},e),e.baseURL&&!u(e.url)&&(e.url=c(e.baseURL,e.url));var t=[a,void 0],n=Promise.resolve(e);for(this.interceptors.request.forEach(function(e){t.unshift(e.fulfilled,e.rejected)}),this.interceptors.response.forEach(function(e){t.push(e.fulfilled,e.rejected)});t.length;)n=n.then(t.shift(),t.shift());return n},i.forEach(["delete","get","head"],function(e){r.prototype[e]=function(t,n){return this.request(i.merge(n||{},{method:e,url:t}))}}),i.forEach(["post","put","patch"],function(e){r.prototype[e]=function(t,n,r){return this.request(i.merge(r||{},{method:e,url:t,data:n}))}}),e.exports=r},function(e,t,n){"use strict";function r(){this.handlers=[]}var o=n(2);r.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},r.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},r.prototype.forEach=function(e){o.forEach(this.handlers,function(t){null!==t&&e(t)})},e.exports=r},function(e,t,n){"use strict";var r=n(2),o=n(84);e.exports=function(e){e.headers=e.headers||{},e.data=o(e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers||{}),r.forEach(["delete","get","head","post","put","patch","common"],function(t){delete e.headers[t]});var t;return"function"==typeof e.adapter?t=e.adapter:"undefined"!=typeof XMLHttpRequest?t=n(79):"undefined"!=typeof process&&(t=n(78)),Promise.resolve(e).then(t).then(function(t){return t.data=o(t.data,t.headers,e.transformResponse),t},function(t){return t&&t.response&&(t.response.data=o(t.response.data,t.response.headers,e.transformResponse)),Promise.reject(t)})}},function(e,t,n){"use strict";var r=n(2);e.exports=function(e,t,n){return r.forEach(n,function(n){e=n(e,t)}),e}},function(e,t,n){"use strict";function r(e,t){!o.isUndefined(e)&&o.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var o=n(2),i=n(91),s=/^\)\]\}',?\n/,a={"Content-Type":"application/x-www-form-urlencoded"};e.exports={transformRequest:[function(e,t){return i(t,"Content-Type"),o.isFormData(e)||o.isArrayBuffer(e)||o.isStream(e)||o.isFile(e)||o.isBlob(e)?e:o.isArrayBufferView(e)?e.buffer:o.isURLSearchParams(e)?(r(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):o.isObject(e)?(r(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e){e=e.replace(s,"");try{e=JSON.parse(e)}catch(e){}}return e}],headers:{common:{Accept:"application/json, text/plain, */*"},patch:o.merge(a),post:o.merge(a),put:o.merge(a)},timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300}}},function(e,t,n){"use strict";function r(){this.message="String contains an invalid character"}function o(e){for(var t,n,o=String(e),s="",a=0,u=i;o.charAt(0|a)||(u="=",a%1);s+=u.charAt(63&t>>8-a%1*8)){if((n=o.charCodeAt(a+=.75))>255)throw new r;t=t<<8|n}return s}var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";r.prototype=new Error,r.prototype.code=5,r.prototype.name="InvalidCharacterError",e.exports=o},function(e,t,n){"use strict";e.exports=function(e,t){return e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,"")}},function(e,t,n){"use strict";var r=n(2);e.exports=r.isStandardBrowserEnv()?function(){return{write:function(e,t,n,o,i,s){var a=[];a.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),r.isString(o)&&a.push("path="+o),r.isString(i)&&a.push("domain="+i),!0===s&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}()},function(e,t,n){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(e,t,n){"use strict";var r=n(2);e.exports=r.isStandardBrowserEnv()?function(){function e(e){var t=e;return n&&(o.setAttribute("href",t),t=o.href),o.setAttribute("href",t),{href:o.href,protocol:o.protocol?o.protocol.replace(/:$/,""):"",host:o.host,search:o.search?o.search.replace(/^\?/,""):"",hash:o.hash?o.hash.replace(/^#/,""):"",hostname:o.hostname,port:o.port,pathname:"/"===o.pathname.charAt(0)?o.pathname:"/"+o.pathname}}var t,n=/(msie|trident)/i.test(navigator.userAgent),o=document.createElement("a");return t=e(window.location.href),function(n){var o=r.isString(n)?e(n):n;return o.protocol===t.protocol&&o.host===t.host}}():function(){return function(){return!0}}()},function(e,t,n){"use strict";var r=n(2);e.exports=function(e,t){r.forEach(e,function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])})}},function(e,t,n){"use strict";var r=n(2);e.exports=function(e){var t,n,o,i={};return e?(r.forEach(e.split("\n"),function(e){o=e.indexOf(":"),t=r.trim(e.substr(0,o)).toLowerCase(),n=r.trim(e.substr(o+1)),t&&(i[t]=i[t]?i[t]+", "+n:n)}),i):i}},function(e,t,n){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t.default=function(e,t){var n=new r.ValidationError(e.message||""),o=t+"-script error";return e.stack&&(o=e.stack.replace(/SAFE_EVAL_\d+/,t+"-script error").replace("evalmachine.<anonymous>","line")),n.stack=o.split("\n").slice(0,2).join(" "),n}},function(e,t,n){"use strict";var r=n(12),o=function(e){return e&&e.__esModule?e:{default:e}}(r),i=n(18),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(i),a=function(e){console.log("getuserroles user is "),console.log(e),console.log("end getuserroles user is ");var t=[e.roles,e.app_metadata&&e.app_metadata.roles,e.app_metadata&&e.app_metadata.authorization&&e.app_metadata.authorization.roles];return(0,o.default)(t).flatten().filter(function(e){return e}).uniq().value()},u=function(e){var t=0;if(!e)return t;var n=Array.isArray(e)?e:e.replace(", ",",","g").split(",");return n.indexOf(s.USER_ROLE_NAME)>=0&&(t=s.USER_ACCESS_LEVEL),n.indexOf(s.ADMIN_ROLE_NAME)>=0&&(t=s.ADMIN_ACCESS_LEVEL),t};e.exports=function(e,t,n){var r=a(e.user);e.user.role=u(r),n()}},function(e,t,n){"use strict";var r=n(0);e.exports=function(e){return function(t,n,o){t.user&&t.user.role>=e?o():o(new r.ForbiddenError("Forbidden! Sorry, you have no permissions to do this."))}}},function(e,t,n){"use strict";var r=n(23),o=function(e){return e&&e.__esModule?e:{default:e}}(r),i=n(0);e.exports=function(e,t){return function(n,r,s){return n.auth0.users.get({id:n.params.id}).then(function(r){if(!r)return o.default.reject(new i.NotFoundError("User not found: "+n.params.id));var s={request:{user:n.user},payload:{user:r,action:e}};return t.execute("access",s)}).then(s).catch(s)}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(42),i=r(o),s=n(116),a=r(s),u=n(117),c=r(u),l=n(171),f=r(l),d=n(23),p=r(d),h=n(172),m=r(h),v=n(183),g=r(v),y=n(0),_=n(14),b=r(_),w=n(94),E=r(w),x=function(){function e(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e4;if((0,a.default)(this,e),null===t||void 0===t)throw new y.ArgumentError("Must provide a storage object.");this.hookRequire=(0,f.default)("hooks"),this.log=b.default.debug.bind(b.default),this.cache={},this.storage=t,this.getCached=p.default.promisify((0,g.default)({load:function(e,t){n.get(e).then(function(e){return t(null,e),null}).catch(t)},hash:function(e){return e},max:100,maxAge:r}))}return(0,c.default)(e,[{key:"get",value:function(e){return this.storage.read().then(function(t){return t&&t.scripts?t.scripts[e]:null})}},{key:"save",value:function(e,t){var n=this;return this.storage.read().then(function(n){return n.scripts||(n.scripts={}),n.scripts[e]=t,n}).then(function(e){return n.storage.write(e)})}},{key:"readCustomData",value:function(){return this.storage.read().then(function(e){return e.customData||{}})}},{key:"writeCustomData",value:function(e){var t=this;return this.storage.read().then(function(t){return t.customData=e,t}).then(function(e){return t.storage.write(e)})}},{key:"createContext",value:function(e){return(0,i.default)({log:this.log,global:this.cache,read:this.readCustomData.bind(this),write:this.writeCustomData.bind(this)},e)}},{key:"execute",value:function(e,t){var n=this;return this.getCached(e).then(function(r){return r?(b.default.debug("Executing Delegated Admin hook: "+e),new p.default(function(o,i){try{(0,m.default)(r,{require:n.hookRequire})(n.createContext(t),function(t,n){t?(b.default.error("Failed to execute Delegated Admin hook ("+e+'): "'+t+'"'),i((0,E.default)(t,e))):o(n)})}catch(t){b.default.error("Failed to compile Delegated Admin hook ("+e+'): "'+t+'"'),i((0,E.default)(t,e))}})):null})}}]),e}();t.default=x},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(13),s=n(26),a=n(6),u=r(a),c=n(18),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(c),f=n(98),d=r(f),p=n(100),h=r(p),m=n(101),v=r(m),g=n(109),y=r(g),_=n(105),b=r(_),w=n(110),E=r(w),x=n(107),I=r(x),A=n(106),T=r(A),S=n(111),C=r(S),U=n(102),N=r(U);t.default=function(e){var t=new d.default(e),n=i.middlewares.managementApiClient({domain:(0,u.default)("AUTH0_DOMAIN"),clientId:(0,u.default)("AUTH0_CLIENT_ID"),clientSecret:(0,u.default)("AUTH0_CLIENT_SECRET")}),r=(0,o.Router)();return r.use(i.middlewares.authenticateUsers.optional({domain:(0,u.default)("AUTH0_DOMAIN"),audience:(0,u.default)("EXTENSION_CLIENT_ID"),credentialsRequired:!0})),r.use(s.getUserAccessLevel),r.use((0,s.hasAccessLevel)(l.USER_ACCESS_LEVEL)),r.use("/applications",n,(0,h.default)()),r.use("/connections",n,(0,v.default)(t)),r.use("/organization",n,(0,y.default)(t)),r.use("/languages",n,(0,b.default)(t)),r.use("/scripts",(0,s.hasAccessLevel)(l.ADMIN_ACCESS_LEVEL),(0,E.default)(e,t)),r.use("/users",n,(0,C.default)(e,t)),r.use("/groups",n,(0,N.default)(t)),r.use("/logs",n,(0,T.default)(t)),r.use("/me",(0,I.default)(t)),r.get("/settings",function(e,n,r){var o={request:{user:e.user}};t.execute("settings",o).then(function(e){return n.json({settings:e||{}})}).catch(r)}),r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(12),o=function(e){return e&&e.__esModule?e:{default:e}}(r),i=n(1);t.default=function(){var e=(0,i.Router)();return e.get("/",function(e,t,n){e.auth0.clients.getAll({fields:"client_id,name,callbacks,global,app_type"}).then(function(e){return o.default.chain(e).filter(function(e){return!e.global&&("spa"===e.app_type||"native"===e.app_type||"regular_web"===e.app_type)}).sortBy(function(e){return e.name.toLowerCase()}).value()}).then(function(e){return t.json(e)}).catch(n)}),e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(12),o=function(e){return e&&e.__esModule?e:{default:e}}(r),i=n(1);t.default=function(e){var t=(0,i.Router)();return t.get("/",function(t,n,r){t.auth0.connections.getAll({fields:"id,name,strategy,enabled_clients,options"}).then(function(n){var r={request:{user:t.user}};return e.execute("settings",r).then(function(e){var t=o.default.chain(n).filter(function(e){return"auth0"===e.strategy}).sortBy(function(e){return e.name.toLowerCase()}).value();return e&&e.connections&&Array.isArray(e.connections)&&e.connections.length&&(t=t.filter(function(t){return e.connections.indexOf(t.name)>=0})),t})}).then(function(e){return n.json(e)}).catch(r)}),t}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(115),i=r(o),s=n(12),a=(r(s),n(1)),u=n(6);r(u);t.default=function(e){function t(e,t,r){return n(8).get(t,{params:{},headers:{Authorization:"Bearer "+r}})}var r=(0,a.Router)();return r.get("/",function(t,r,o){var i={request:{},payload:{tokenInfo:!0}},s=n(8);return e.execute("memberships",i).then(function(e){var n="https://opensimspoc.us8.webtask.io/adf6e2f2b84784b57522e3b19dfc9201/api/groups";t.query&&t.query.id&&t.query.id.length>0&&(n=n+"/"+t.query.id),s.get(n,{params:{},headers:{Authorization:"Bearer "+e}}).then(function(e){r.json(e.data)}).catch(function(e){console.log("Error while fetching group details: ")})}).catch(o)}),r.get("/:id/export",function(r,o,s){var a={request:{user:r.user},payload:{tokenInfo:!0}},u=r.params.id,c=n(8);return e.execute("memberships",a).then(function(e){var n="https://opensimspoc.us8.webtask.io/adf6e2f2b84784b57522e3b19dfc9201/api/groups/"+u+"/members";c.get(n,{params:{},headers:{Authorization:"Bearer "+e}}).then(function(s){var a=s.data,u=[],c=parseInt(a.total/25)+(a.total%25==0?0:1);if(0===c)return void o.json([]);if(1===c)o.json(s.data.users);else{for(var l=0;l<c;l++)u.push(t(r,n+"?page="+(l+1),e));i.default.all(u).then(function(e){var t=function(e,t,n){return 1===n?e.data.users.concat(t.data.users):e.concat(t.data.users)},n=e.reduce(t);o.json(n)})}}).catch(function(e){console.log("Error while fetching group details: ")})}).catch(s)}),r.get("/:id/:page",function(t,r,o){var s=t.params.id,a=t.params.page,u={request:{},payload:{tokenInfo:!0}},c=n(8);return e.execute("memberships",u).then(function(e){var t=c.get("https://opensimspoc.us8.webtask.io/adf6e2f2b84784b57522e3b19dfc9201/api/groups/"+s,{params:{},headers:{Authorization:"Bearer "+e}}),n=c.get("https://opensimspoc.us8.webtask.io/adf6e2f2b84784b57522e3b19dfc9201/api/groups/"+s+"/members",{params:{per_page:10,page:a},headers:{Authorization:"Bearer "+e}});i.default.all([t,n]).then(function(e){r.json({details:e[0].data,members:e[1].data})}).catch(function(e){console.log("Error obtaining group details.")})}).catch(o)}),r.delete("/:id/:userId",function(t,r,o){var i=t.params.id,s=t.params.userId,a={request:{},payload:{tokenInfo:!0}},u=n(8);return e.execute("memberships",a).then(function(e){var t="https://opensimspoc.us8.webtask.io/adf6e2f2b84784b57522e3b19dfc9201/api/groups/"+i+"/members";u.delete(t,{data:[s],headers:{Authorization:"Bearer "+e}}).then(function(e){return r.json({})}).catch(function(e){console.log("Error while removing user from the group: ")})}).catch(o)}),r.post("/",function(t,r,o){if(!t.body.groupId||0===t.body.members.length)return o(new ValidationError("The groupId or members are required."));var i={request:{},payload:{tokenInfo:!0}},s=n(8);return e.execute("memberships",i).then(function(e){var n="https://opensimspoc.us8.webtask.io/adf6e2f2b84784b57522e3b19dfc9201/api/groups/"+t.body.groupId+"/members",o=t.body.members;s.patch(n,o,{headers:{Authorization:"Bearer "+e}}).then(function(e){r.json({})}).catch(function(e){console.log("Error while adding users to the group: ")})}).catch(o)}),r}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(13),s=n(6),a=r(s),u=n(14),c=r(u);t.default=function(){var e=i.middlewares.validateHookToken((0,a.default)("AUTH0_DOMAIN"),(0,a.default)("WT_URL"),(0,a.default)("EXTENSION_SECRET")),t=(0,o.Router)();return t.use("/on-uninstall",e("/.extensions/on-uninstall")),t.use(i.middlewares.managementApiClient({domain:(0,a.default)("AUTH0_DOMAIN"),clientId:(0,a.default)("AUTH0_CLIENT_ID"),clientSecret:(0,a.default)("AUTH0_CLIENT_SECRET")})),t.delete("/on-uninstall",function(e,t){c.default.debug("Uninstall running..."),e.auth0.clients.delete({client_id:(0,a.default)("AUTH0_CLIENT_ID")}).then(function(){c.default.debug("Deleted client: "+(0,a.default)("AUTH0_CLIENT_ID")),t.sendStatus(204)}).catch(function(e){c.default.debug("Error deleting client: "+(0,a.default)("AUTH0_CLIENT_ID")),c.default.error(e),t.sendStatus(204)})}),t}},function(e,t,n){"use strict";(function(e){function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(42),i=(r(o),n(63)),s=(r(i),n(180)),a=r(s),u=n(35),c=(r(u),n(13)),l=n(6),f=r(l);t.default=function(){var e='\n  <!DOCTYPE html>\n  <html lang="en">\n  <head>\n    <title><%= config.TITLE %></title>\n    <meta charset="UTF-8" />\n    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />\n    <meta name="viewport" content="width=device-width, initial-scale=1.0" />\n    <link rel="shortcut icon" href="https://cdn.auth0.com/styleguide/4.6.13/lib/logos/img/favicon.png">\n    <meta name="viewport" content="width=device-width, initial-scale=1">\n    <link rel="stylesheet" type="text/css" href="https://cdn.auth0.com/styles/zocial.min.css" />\n    <link rel="stylesheet" type="text/css" href="https://cdn.auth0.com/manage/v0.3.1672/css/index.min.css" />\n    <link rel="stylesheet" type="text/css" href="https://cdn.auth0.com/styleguide/4.6.13/index.min.css" />\n    <% if (assets.style) { %><link rel="stylesheet" type="text/css" href="/app/<%= assets.style %>" /><% } %>\n    <% if (assets.version) { %><link rel="stylesheet" type="text/css" href="https://cdn.rawgit.com/ETDAU/open-sims-delegated-admin-assets/master/open-sims-delegated-admin.ui.<%= assets.version %>.css" /><% } %>\n    <% if (assets.customCss) { %><link rel="stylesheet" type="text/css" href="<%= assets.customCss %>" /><% } %>\n  </head>\n  <body>\n    <div id="app"></div>\n    <script type="text/javascript" src="//cdn.auth0.com/w2/auth0-7.6.1.min.js"><\/script>\n    <script type="text/javascript" src="//cdn.auth0.com/manage/v0.3.1672/js/bundle.js"><\/script>\n    <script type="text/javascript">window.config = <%- JSON.stringify(config) %>;<\/script>\n    <% if (assets.vendors) { %><script type="text/javascript" src="/app/<%= assets.vendors %>"><\/script><% } %>\n    <% if (assets.app) { %><script type="text/javascript" src="/app/<%= assets.app %>"><\/script><% } %>\n    <% if (assets.version) { %>\n    <script type="text/javascript" src="https://cdn.rawgit.com/ETDAU/open-sims-delegated-admin-assets/e5fe890/open-sims-delegated-admin.ui.vendors.<%= assets.version %>.js"><\/script>\n    <script type="text/javascript" src="https://cdn.rawgit.com/ETDAU/open-sims-delegated-admin-assets/e5fe890/open-sims-delegated-admin.ui.<%= assets.version %>.js"><\/script>\n    <% } %>\n  </body>\n  </html>\n  ';return function(t,n,r){if(0===t.url.indexOf("/api"))return r();var o={AUTH0_DOMAIN:(0,f.default)("AUTH0_DOMAIN"),AUTH0_CLIENT_ID:(0,f.default)("EXTENSION_CLIENT_ID"),BASE_URL:c.urlHelpers.getBaseUrl(t),BASE_PATH:c.urlHelpers.getBasePath(t),TITLE:(0,f.default)("TITLE"),FEDERATED_LOGOUT:"true"===(0,f.default)("FEDERATED_LOGOUT")};return n.send(a.default.render(e,{config:o,assets:{customCss:(0,f.default)("CUSTOM_CSS"),version:"2.4.7"}}))}}}).call(t,"/")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(12),o=(function(e){e&&e.__esModule}(r),n(1));t.default=function(e){var t=["English","French"],n=(0,o.Router)();return n.get("/",function(e,n,r){n.json(t)}),n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(23),o=function(e){return e&&e.__esModule?e:{default:e}}(r),i=n(1),s=n(0),a=n(26),u=n(18),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(u);t.default=function(e){var t=(0,i.Router)();return t.get("/",(0,a.hasAccessLevel)(c.ADMIN_ACCESS_LEVEL),function(e,t,n){e.auth0.logs.getAll({q:"NOT type: sapi AND NOT type:fapi",include_totals:!0,sort:"date:-1",per_page:20,page:e.query.page||0,fields:"type,date,client_name,user_name,description,connection"}).then(function(e){return t.json(e)}).catch(n)}),t.get("/:id",function(t,n,r){t.auth0.logs.get({id:t.params.id}).then(function(n){return!n||"fapi"!==n.type&&"sapi"!==n.type?t.user.role===c.ADMIN_ACCESS_LEVEL?n:t.auth0.users.get({id:n.user_id}).then(function(r){if(!r)throw new s.NotFoundError("User not found: "+t.params.id);var o={request:{user:t.user},payload:{user:r}};return e.execute("access",o).then(function(){return n})}):o.default.reject(new Error("Invalid log record."))}).then(function(e){return n.json({log:e})}).catch(r)}),t}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=r(o),s=n(14),a=r(s);t.default=function(e){var t=i.default.Router();return t.get("/",function(t,n){var r={createMemberships:!1,memberships:[],role:t.user.role||0},o={request:{user:t.user},payload:{user:t.user}};e.execute("memberships",o).then(function(e){return e&&Array.isArray(e)?r.memberships=e:e&&(r.createMemberships=e.createMemberships||!1,r.memberships=e.memberships||[]),n.json(r)}).catch(function(e){e&&a.default.error(e.message),n.json(r)})}),t}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=r(o),s=n(165),a=r(s);t.default=function(){var e=i.default.Router();return e.get("/",function(e,t){t.status(200).send(a.default)}),e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(12),o=(function(e){e&&e.__esModule}(r),n(1));t.default=function(e){var t=n(164),r=(0,o.Router)();return r.get("/",function(e,n,r){n.json(t)}),r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),o=n(0),i=n(18),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(i);t.default=function(e,t){var n=(0,r.Router)();return n.get("/:name",function(e,n,r){return s.VALID_SCRIPTS.indexOf(e.params.name)<0?r(new o.ValidationError("Invalid script name: "+e.params.name)):t.get(e.params.name).then(function(e){return n.json({script:e})}).catch(r)}),n.post("/:name",function(e,n,r){return s.VALID_SCRIPTS.indexOf(e.params.name)<0?r(new o.ValidationError("Invalid script name: "+e.params.name)):t.save(e.params.name,e.body.script).then(function(){return n.status(200).send()}).catch(r)}),n}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(175),i=r(o),s=n(187),a=r(s),u=n(23),c=r(u),l=n(1),f=n(0),d=n(6),p=r(d),h=n(26);t.default=function(e,t){function n(e){if(!e)return e;var t=e.split(":");if("name"===t[0]){return"(name:*"+t[1]+"* OR user_metadata.name:*"+t[1]+"* OR given_name:*"+t[1]+"* OR family_name:*"+t[1]+"*)"}if("email"===t[0]){return"email:*"+t[1]+"*"}return e}function r(e,t){return e.auth0.users.getAll(t)}var o=(0,l.Router)();return o.post("/signup",function(e,n,r){if(!e.body.email||0===e.body.email.length)return r(new f.ValidationError("The email address is required."));if(e.body.password!==e.body.repeatPassword)return r(new f.ValidationError("The passwords do not match."));var o={request:{user:e.user},payload:{email:e.body.email,username:e.body.username,connection:e.body.connection,memberships:e.body.memberships,password:e.body.password,firstname:e.body.firstname,lastname:e.body.lastname,language:e.body.language,organization:e.body.organization,otherorganization:e.body.otherorganization,orgtype:e.body.orgtype},defaultPayload:{email:e.body.email,username:e.body.username,password:e.body.password,connection:e.body.connection,app_metadata:e.body.memberships&&e.body.memberships.length&&{memberships:e.body.memberships}||{}}};return t.execute("create",o).then(function(t){console.log(t),e.auth0.users.create(t||o.defaultPayload,function(t){if(t)return r(t);e.auth0.users.delete({id:e.body.signupuserid}).then(function(){return n.sendStatus(201)})})}).catch(r)}),o.post("/",function(e,n,r){if(!e.body.email||0===e.body.email.length)return r(new f.ValidationError("The email address is required."));if(e.body.password!==e.body.repeatPassword)return r(new f.ValidationError("The passwords do not match."));var o={request:{user:e.user},payload:{email:e.body.email,username:e.body.username,connection:e.body.connection,memberships:e.body.memberships,password:e.body.password,firstname:e.body.firstname,lastname:e.body.lastname,language:e.body.language,organization:e.body.organization,otherorganization:e.body.otherorganization,orgtype:e.body.orgtype},defaultPayload:{email:e.body.email,username:e.body.username,password:e.body.password,connection:e.body.connection,app_metadata:e.body.memberships&&e.body.memberships.length&&{memberships:e.body.memberships}||{}}};return t.execute("create",o).then(function(t){return e.auth0.users.create(t||o.defaultPayload)}).then(function(){return n.status(201).send()}).catch(r)}),o.get("/",function(e,r,o){var i={request:{user:e.user},payload:{search:e.query.search}},s=n(e.query.search);t.execute("filter",i).then(function(t){var n={sort:"email:1",q:s&&t?"("+s+") AND "+t:s||t,per_page:e.query.per_page||100,page:e.query.page||0,include_totals:!0,fields:"user_id,name,email,identities,picture,last_login,logins_count,multifactor,blocked,app_metadata,family_name,given_name",search_engine:"v2"};return e.auth0.users.getAll(n)}).then(function(n){return c.default.map(n.users,function(n){return t.execute("access",{request:{user:e.user},payload:{user:n,action:"read:user"}})}).then(function(){return n})}).then(function(e){return r.json(e)}).catch(o)}),o.get("/export",function(e,o,i){var s={request:{user:e.user},payload:{search:e.query.search}},a=n(e.query.search),u="";t.execute("filter",s).then(function(t){var n={sort:"email:1",q:a&&t?"("+a+") AND "+t:a||t,per_page:e.query.per_page||100,page:e.query.page||0,include_totals:!0,fields:"user_id",search_engine:"v2"};return u=t,r(e,n)}).then(function(t){for(var n=[],o=parseInt(t.total/100)+(t.total%100==0?0:1),i=0;i<o;i++)n.push(r(e,{sort:"email:1",q:u,per_page:100,page:i,include_totals:!0,fields:"user_id,username,email,user_metadata,identities",search_engine:"v2"}));return c.default.all(n)}).then(function(e){var t=function(e,t,n){return 1===n?e.users.concat(t.users):e.concat(t.users)},n=e.reduce(t);o.json(n)}).catch(i)}),o.get("/signedup-user",function(e,t,r){var o=(e.user,e.query.search,n(e.query.search)),i='identities.connection:OpenSimsSignup OR (identities.connection:SAML-OPS-IDP AND app_metadata.pending:"true")',s={sort:"email:1",q:o?"("+o+") AND "+i:o||i,per_page:e.query.per_page||100,page:e.query.page||0,include_totals:!0,fields:"user_id,name,email,identities,picture,last_login,logins_count,multifactor,blocked,app_metadata,family_name,given_name,department,ministry",search_engine:"v2"};e.auth0.users.getAll(s).then(function(e){t.json(e)}).catch(r)}),o.get("/:id",(0,h.verifyUserAccess)("read:user",t),function(e,n,r){e.auth0.users.get({id:e.params.id}).then(function(n){console.log("Get a single user"),console.log(n),console.log("end single user");var r={request:{user:e.user},payload:{user:n}};return t.execute("memberships",r).then(function(e){return e&&Array.isArray(e)?{user:n,memberships:e}:e&&e.memberships?(n.memberships=e.memberships,{user:n,memberships:e.memberships}):{user:n,memberships:[]}})}).then(function(e){return n.json(e)}).catch(r)}),o.delete("/:id",(0,h.verifyUserAccess)("delete:user",t),function(e,t,n){return e.user.sub===e.params.id?n(new f.ValidationError("You cannot delete yourself.")):e.auth0.users.delete({id:e.params.id}).then(function(){return t.sendStatus(204)}).catch(n)}),o.post("/:id/password-reset",(0,h.verifyUserAccess)("reset:password",t),function(e,t,n){var r=new i.default.AuthenticationClient({domain:(0,p.default)("AUTH0_DOMAIN"),clientId:(0,p.default)("AUTH0_CLIENT_ID")});e.auth0.users.get({id:e.params.id,fields:"email"}).then(function(t){return{email:t.email,connection:e.body.connection,client_id:e.body.clientId}}).then(function(e){return r.requestChangePasswordEmail(e)}).then(function(){return t.sendStatus(204)}).catch(n)}),o.put("/:id/change-password",(0,h.verifyUserAccess)("change:password",t),function(e,t,n){return e.body.password!==e.body.confirmPassword?n(new f.ArgumentError("Passwords don't match")):e.auth0.users.update({id:e.params.id},{password:e.body.password,connection:e.body.connection,verify_password:!1}).then(function(){return t.sendStatus(204)}).catch(n)}),o.put("/:id/change-username",(0,h.verifyUserAccess)("change:username",t),function(e,t,n){return e.auth0.users.update({id:e.params.id},{username:e.body.username}).then(function(){return t.sendStatus(204)}).catch(n)}),o.put("/:id/change-email",(0,h.verifyUserAccess)("change:email",t),function(e,t,n){return e.auth0.users.update({id:e.params.id},{email:e.body.email}).then(function(){return t.sendStatus(204)}).catch(n)}),o.put("/:id/change-user-info",(0,h.verifyUserAccess)("change:userinfo",t),function(e,n,r){var o=e.body.organization||"",i=e.body.organizationother||"",s=e.body.orgtype||"",a=e.body.language||"",u=e.body.pending;e.auth0.users.get({id:e.params.id}).then(function(c){var l={request:{user:e.user},payload:{user:c},memberships:e.body.memberships},f={};if("auth0"===c.identities[0].provider&&(f={user_metadata:{name:e.body.name,given_name:e.body.given_name,family_name:e.body.family_name}},0===f.user_metadata.family_name.length||0==f.user_metadata.given_name.length))return r(new Error("First Name and Last Name are required fields."));if(f.hasOwnProperty("user_metadata")||(f.user_metadata={}),!(a.length>0))return r(new Error("You must select a language preference."));if(f.user_metadata.language=a,"Other"==o){if(0==i.length)return r(new Error("You must specify a organization name."));o=i}if(s.length>0){if(0==o.length)return r(new Error("You must specify a organization name."));f.user_metadata.orgtype=s,f.user_metadata.organization=o}else f.user_metadata.orgtype="",f.user_metadata.organization="";"samlp"===c.identities[0].provider&&u&&(f.app_metadata={pending:"true"===u}),e.auth0.users.update({id:e.params.id},f).then(function(){t.execute("memberships",l).then(function(e){console.log("completed updating memberships"),n.sendStatus(204)}).catch(r)}).catch(r)})}),o.get("/:id/devices",(0,h.verifyUserAccess)("read:devices",t),function(e,t,n){e.auth0.deviceCredentials.getAll({user_id:e.params.id}).then(function(e){return t.json({devices:e})}).catch(n)}),o.get("/:id/logs",(0,h.verifyUserAccess)("read:logs",t),function(e,t,n){f.managementApi.getAccessTokenCached((0,p.default)("AUTH0_DOMAIN"),(0,p.default)("AUTH0_CLIENT_ID"),(0,p.default)("AUTH0_CLIENT_SECRET")).then(function(r){var o={uri:"https://"+(0,p.default)("AUTH0_DOMAIN")+"/api/v2/users/"+encodeURIComponent(e.params.id)+"/logs",qs:{include_totals:!0},headers:{authorization:"Bearer "+r},json:!0};return a.default.get(o,function(e,r,o){return e?n(e):r.statusCode<200||r.statusCode>=300?n(new Error(o&&(o.error||o.message||o.code)||"Request Error: "+r.statusCode)):t.json(o)}),a.default.get(o)}).catch(n)}),o.delete("/:id/multifactor/:provider",(0,h.verifyUserAccess)("remove:multifactor-provider",t),function(e,t,n){e.auth0.users.deleteMultifactorProvider({id:e.params.id,provider:e.params.provider}).then(function(){return t.sendStatus(204)}).catch(n)}),o.put("/:id/block",(0,h.verifyUserAccess)("block:user",t),function(e,t,n){e.auth0.users.update({id:e.params.id},{blocked:!0}).then(function(){return t.sendStatus(204)}).catch(n)}),o.put("/:id/unblock",(0,h.verifyUserAccess)("unblock:user",t),function(e,t,n){e.auth0.users.update({id:e.params.id},{blocked:!1}).then(function(){return t.sendStatus(204)}).catch(n)}),o.post("/:id/send-verification-email",(0,h.verifyUserAccess)("send:verification-email",t),function(e,t,n){var r={user_id:e.params.id};e.auth0.jobs.verifyEmail(r).then(function(){return t.status(204).send()}).catch(n)}),o}},function(e,t,n){"use strict";var r=n(13),o=n(66),i=n(6),s=n(14),a=r.createServer(function(e,t){return s.info("Starting Open Sims Delegated Admin Extension - Version:","2.4.7"),o(e,t)});e.exports=function(e,t,n){i.setValue("PUBLIC_WT_URL",r.urlHelpers.getWebtaskUrl(t)),a(e,t,n)}},function(e,t,n){e.exports={default:n(118),__esModule:!0}},function(e,t,n){e.exports={default:n(119),__esModule:!0}},function(e,t,n){e.exports={default:n(120),__esModule:!0}},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t,n){"use strict";t.__esModule=!0;var r=n(114),o=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,o.default)(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()},function(e,t,n){n(148),e.exports=n(5).Object.assign},function(e,t,n){n(149);var r=n(5).Object;e.exports=function(e,t,n){return r.defineProperty(e,t,n)}},function(e,t,n){n(150),n(152),n(155),n(151),n(153),n(154),e.exports=n(5).Promise},function(e,t){e.exports=function(){}},function(e,t){e.exports=function(e,t,n,r){if(!(e instanceof t)||void 0!==r&&r in e)throw TypeError(n+": incorrect invocation!");return e}},function(e,t,n){var r=n(34),o=n(56),i=n(144);e.exports=function(e){return function(t,n,s){var a,u=r(t),c=o(u.length),l=i(s,c);if(e&&n!=n){for(;c>l;)if((a=u[l++])!=a)return!0}else for(;c>l;l++)if((e||l in u)&&u[l]===n)return e||l||0;return!e&&-1}}},function(e,t,n){var r=n(21),o=n(128),i=n(127),s=n(7),a=n(56),u=n(146),c={},l={},t=e.exports=function(e,t,n,f,d){var p,h,m,v,g=d?function(){return e}:u(e),y=r(n,f,t?2:1),_=0;if("function"!=typeof g)throw TypeError(e+" is not iterable!");if(i(g)){for(p=a(e.length);p>_;_++)if((v=t?y(s(h=e[_])[0],h[1]):y(e[_]))===c||v===l)return v}else for(m=g.call(e);!(h=m.next()).done;)if((v=o(m,y,h.value,t))===c||v===l)return v};t.BREAK=c,t.RETURN=l},function(e,t,n){e.exports=!n(9)&&!n(29)(function(){return 7!=Object.defineProperty(n(28)("div"),"a",{get:function(){return 7}}).a})},function(e,t){e.exports=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},function(e,t,n){var r=n(16),o=n(4)("iterator"),i=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||i[o]===e)}},function(e,t,n){var r=n(7);e.exports=function(e,t,n,o){try{return o?t(r(n)[0],n[1]):t(n)}catch(t){var i=e.return;throw void 0!==i&&r(i.call(e)),t}}},function(e,t,n){"use strict";var r=n(134),o=n(52),i=n(31),s={};n(11)(s,n(4)("iterator"),function(){return this}),e.exports=function(e,t,n){e.prototype=r(s,{next:o(1,n)}),i(e,t+" Iterator")}},function(e,t,n){var r=n(4)("iterator"),o=!1;try{var i=[7][r]();i.return=function(){o=!0},Array.from(i,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!o)return!1;var n=!1;try{var i=[7],s=i[r]();s.next=function(){return{done:n=!0}},i[r]=function(){return s},e(i)}catch(e){}return n}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){var r=n(3),o=n(55).set,i=r.MutationObserver||r.WebKitMutationObserver,s=r.process,a=r.Promise,u="process"==n(20)(s);e.exports=function(){var e,t,n,c=function(){var r,o;for(u&&(r=s.domain)&&r.exit();e;){o=e.fn,e=e.next;try{o()}catch(r){throw e?n():t=void 0,r}}t=void 0,r&&r.enter()};if(u)n=function(){s.nextTick(c)};else if(i){var l=!0,f=document.createTextNode("");new i(c).observe(f,{characterData:!0}),n=function(){f.data=l=!l}}else if(a&&a.resolve){var d=a.resolve();n=function(){d.then(c)}}else n=function(){o.call(r,c)};return function(r){var o={fn:r,next:void 0};t&&(t.next=o),e||(e=o,n()),t=o}}},function(e,t,n){"use strict";var r=n(49),o=n(136),i=n(139),s=n(57),a=n(46),u=Object.assign;e.exports=!u||n(29)(function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach(function(e){t[e]=e}),7!=u({},e)[n]||Object.keys(u({},t)).join("")!=r})?function(e,t){for(var n=s(e),u=arguments.length,c=1,l=o.f,f=i.f;u>c;)for(var d,p=a(arguments[c++]),h=l?r(p).concat(l(p)):r(p),m=h.length,v=0;m>v;)f.call(p,d=h[v++])&&(n[d]=p[d]);return n}:u},function(e,t,n){var r=n(7),o=n(135),i=n(44),s=n(32)("IE_PROTO"),a=function(){},u=function(){var e,t=n(28)("iframe"),r=i.length;for(t.style.display="none",n(45).appendChild(t),t.src="javascript:",e=t.contentWindow.document,e.open(),e.write("<script>document.F=Object<\/script>"),e.close(),u=e.F;r--;)delete u.prototype[i[r]];return u()};e.exports=Object.create||function(e,t){var n;return null!==e?(a.prototype=r(e),n=new a,a.prototype=null,n[s]=e):n=u(),void 0===t?n:o(n,t)}},function(e,t,n){var r=n(17),o=n(7),i=n(49);e.exports=n(9)?Object.defineProperties:function(e,t){o(e);for(var n,s=i(t),a=s.length,u=0;a>u;)r.f(e,n=s[u++],t[n]);return e}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){var r=n(22),o=n(57),i=n(32)("IE_PROTO"),s=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=o(e),r(e,i)?e[i]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?s:null}},function(e,t,n){var r=n(22),o=n(34),i=n(123)(!1),s=n(32)("IE_PROTO");e.exports=function(e,t){var n,a=o(e),u=0,c=[];for(n in a)n!=s&&r(a,n)&&c.push(n);for(;t.length>u;)r(a,n=t[u++])&&(~i(c,n)||c.push(n));return c}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){var r=n(11);e.exports=function(e,t,n){for(var o in t)n&&e[o]?e[o]=t[o]:r(e,o,t[o]);return e}},function(e,t,n){e.exports=n(11)},function(e,t,n){"use strict";var r=n(3),o=n(5),i=n(17),s=n(9),a=n(4)("species");e.exports=function(e){var t="function"==typeof o[e]?o[e]:r[e];s&&t&&!t[a]&&i.f(t,a,{configurable:!0,get:function(){return this}})}},function(e,t,n){var r=n(33),o=n(27);e.exports=function(e){return function(t,n){var i,s,a=String(o(t)),u=r(n),c=a.length;return u<0||u>=c?e?"":void 0:(i=a.charCodeAt(u),i<55296||i>56319||u+1===c||(s=a.charCodeAt(u+1))<56320||s>57343?e?a.charAt(u):i:e?a.slice(u,u+2):s-56320+(i-55296<<10)+65536)}}},function(e,t,n){var r=n(33),o=Math.max,i=Math.min;e.exports=function(e,t){return e=r(e),e<0?o(e+t,0):i(e,t)}},function(e,t,n){var r=n(15);e.exports=function(e,t){if(!r(e))return e;var n,o;if(t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;if("function"==typeof(n=e.valueOf)&&!r(o=n.call(e)))return o;if(!t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},function(e,t,n){var r=n(43),o=n(4)("iterator"),i=n(16);e.exports=n(5).getIteratorMethod=function(e){if(void 0!=e)return e[o]||e["@@iterator"]||i[r(e)]}},function(e,t,n){"use strict";var r=n(121),o=n(131),i=n(16),s=n(34);e.exports=n(47)(Array,"Array",function(e,t){this._t=s(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,o(1)):"keys"==t?o(0,n):"values"==t?o(0,e[n]):o(0,[n,e[n]])},"values"),i.Arguments=i.Array,r("keys"),r("values"),r("entries")},function(e,t,n){var r=n(10);r(r.S+r.F,"Object",{assign:n(133)})},function(e,t,n){var r=n(10);r(r.S+r.F*!n(9),"Object",{defineProperty:n(17).f})},function(e,t){},function(e,t,n){"use strict";var r,o,i,s,a=n(48),u=n(3),c=n(21),l=n(43),f=n(10),d=n(15),p=n(19),h=n(122),m=n(124),v=n(54),g=n(55).set,y=n(132)(),_=n(30),b=n(50),w=n(51),E=u.TypeError,x=u.process,I=u.Promise,A="process"==l(x),T=function(){},S=o=_.f,C=!!function(){try{var e=I.resolve(1),t=(e.constructor={})[n(4)("species")]=function(e){e(T,T)};return(A||"function"==typeof PromiseRejectionEvent)&&e.then(T)instanceof t}catch(e){}}(),U=function(e){var t;return!(!d(e)||"function"!=typeof(t=e.then))&&t},N=function(e,t){if(!e._n){e._n=!0;var n=e._c;y(function(){for(var r=e._v,o=1==e._s,i=0;n.length>i;)!function(t){var n,i,s=o?t.ok:t.fail,a=t.resolve,u=t.reject,c=t.domain;try{s?(o||(2==e._h&&k(e),e._h=1),!0===s?n=r:(c&&c.enter(),n=s(r),c&&c.exit()),n===t.promise?u(E("Promise-chain cycle")):(i=U(n))?i.call(n,a,u):a(n)):u(r)}catch(e){u(e)}}(n[i++]);e._c=[],e._n=!1,t&&!e._h&&O(e)})}},O=function(e){g.call(u,function(){var t,n,r,o=e._v,i=j(e);if(i&&(t=b(function(){A?x.emit("unhandledRejection",o,e):(n=u.onunhandledrejection)?n({promise:e,reason:o}):(r=u.console)&&r.error&&r.error("Unhandled promise rejection",o)}),e._h=A||j(e)?2:1),e._a=void 0,i&&t.e)throw t.v})},j=function(e){if(1==e._h)return!1;for(var t,n=e._a||e._c,r=0;n.length>r;)if(t=n[r++],t.fail||!j(t.promise))return!1;return!0},k=function(e){g.call(u,function(){var t;A?x.emit("rejectionHandled",e):(t=u.onrejectionhandled)&&t({promise:e,reason:e._v})})},M=function(e){var t=this;t._d||(t._d=!0,t=t._w||t,t._v=e,t._s=2,t._a||(t._a=t._c.slice()),N(t,!0))},L=function(e){var t,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===e)throw E("Promise can't be resolved itself");(t=U(e))?y(function(){var r={_w:n,_d:!1};try{t.call(e,c(L,r,1),c(M,r,1))}catch(e){M.call(r,e)}}):(n._v=e,n._s=1,N(n,!1))}catch(e){M.call({_w:n,_d:!1},e)}}};C||(I=function(e){h(this,I,"Promise","_h"),p(e),r.call(this);try{e(c(L,this,1),c(M,this,1))}catch(e){M.call(this,e)}},r=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},r.prototype=n(140)(I.prototype,{then:function(e,t){var n=S(v(this,I));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=A?x.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&N(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),i=function(){var e=new r;this.promise=e,this.resolve=c(L,e,1),this.reject=c(M,e,1)},_.f=S=function(e){return e===I||e===s?new i(e):o(e)}),f(f.G+f.W+f.F*!C,{Promise:I}),n(31)(I,"Promise"),n(142)("Promise"),s=n(5).Promise,f(f.S+f.F*!C,"Promise",{reject:function(e){var t=S(this);return(0,t.reject)(e),t.promise}}),f(f.S+f.F*(a||!C),"Promise",{resolve:function(e){return w(a&&this===s?I:this,e)}}),f(f.S+f.F*!(C&&n(130)(function(e){I.all(e).catch(T)})),"Promise",{all:function(e){var t=this,n=S(t),r=n.resolve,o=n.reject,i=b(function(){var n=[],i=0,s=1;m(e,!1,function(e){var a=i++,u=!1;n.push(void 0),s++,t.resolve(e).then(function(e){u||(u=!0,n[a]=e,--s||r(n))},o)}),--s||r(n)});return i.e&&o(i.v),n.promise},race:function(e){var t=this,n=S(t),r=n.reject,o=b(function(){m(e,!1,function(e){t.resolve(e).then(n.resolve,r)})});return o.e&&r(o.v),n.promise}})},function(e,t,n){"use strict";var r=n(143)(!0);n(47)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})})},function(e,t,n){"use strict";var r=n(10),o=n(5),i=n(3),s=n(54),a=n(51);r(r.P+r.R,"Promise",{finally:function(e){var t=s(this,o.Promise||i.Promise),n="function"==typeof e;return this.then(n?function(n){return a(t,e()).then(function(){return n})}:e,n?function(n){return a(t,e()).then(function(){throw n})}:e)}})},function(e,t,n){"use strict";var r=n(10),o=n(30),i=n(50);r(r.S,"Promise",{try:function(e){var t=o.f(this),n=i(e);return(n.e?t.reject:t.resolve)(n.v),t.promise}})},function(e,t,n){n(147);for(var r=n(3),o=n(11),i=n(16),s=n(4)("toStringTag"),a="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),u=0;u<a.length;u++){var c=a[u],l=r[c],f=l&&l.prototype;f&&!f[s]&&o(f,s,c),i[c]=i.Array}},function(e,t){function n(e,t){Error.call(this,t.message),Error.captureStackTrace(this,this.constructor),this.name="UnauthorizedError",this.message=t.message,this.code=e,this.status=401,this.inner=t}n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,e.exports=n},function(e,t,n){function r(e,t){var n="string"==typeof e&&e===t||e instanceof RegExp&&!!e.exec(t);return e instanceof RegExp&&(e.lastIndex=0),e&&e.url&&(n=r(e.url,t)),n}function o(e,t){return!e||(e=Array.isArray(e)?e:[e],!!~e.indexOf(t))}var i=n(24);e.exports=function(e){var t=this,n="function"==typeof e?{custom:e}:e;return n.useOriginalUrl=void 0===n.useOriginalUrl||n.useOriginalUrl,function(e,s,a){var u=i.parse((n.useOriginalUrl?e.originalUrl:e.url)||e.url||"",!0),c=!1;n.custom&&(c=c||n.custom(e));var l=!n.path||Array.isArray(n.path)?n.path:[n.path];l&&(c=c||l.some(function(t){return r(t,u.pathname)&&o(t.methods,e.method)}));var f=!n.ext||Array.isArray(n.ext)?n.ext:[n.ext];f&&(c=c||f.some(function(e){return u.pathname.substr(-1*e.length)===e}));var d=!n.method||Array.isArray(n.method)?n.method:[n.method];if(d&&(c=c||!!~d.indexOf(e.method)),c)return a();t(e,s,a)}}},function(e,t,n){"use strict";function r(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function o(e){return e.statusCode>=300&&e.statusCode<=399&&"location"in e.headers}function i(e){for(var t=0,n=l.length;t<n;++t)e[l[t]]=null}var s=n(24),a=n(160)("follow-redirects"),u=n(173),c=n(188);e.exports=function(e){function t(e){function t(f){if(f){var p=s.format(e);if(d.unshift(p),!o(f))return f.fetchedUrls=d,e.userCallback(f);c(f);var h=s.resolve(p,f.headers.location);a("redirecting to",h),i(e),r(e,s.parse(h))}if(d.length>e.maxRedirects){return u(new Error("Max redirects exceeded."))}e.nativeProtocol=l[e.protocol],e.defaultRequest=n;var m=(e.makeRequest||n)(e,t,f);return f&&m.on("error",u),m}function n(e,t,n){n&&(e.method="GET");var r=e.nativeProtocol.request(e,t);return n&&r.end(),r}function u(e){f.emit("error",e)}var f,d=[];return f=t()}function n(e,t,n){return u.equal(typeof t,"function","callback must be a function"),"string"==typeof e?(e=s.parse(e),e.maxRedirects=f.maxRedirects):e=r({maxRedirects:f.maxRedirects,protocol:n},e),u.equal(e.protocol,n,"protocol mismatch"),e.protocol=n,e.userCallback=t,a("options",e),e}var l={},f={maxRedirects:5};for(var d in e)e.hasOwnProperty(d)&&(u(/^[A-Z][A-Z\+\-\.]*$/i.test(d),JSON.stringify(d)+" is not a valid scheme name"),function(e,r){var o=e+":",i=function(){};i.prototype=l[o]=r,i=new i,f[e]=i,i.request=function(e,r){return t(n(e,r,o))},i.get=function(e,r){e=n(e,r,o);var i=t(e);return i.end(),i}}(d,e[d]));return f};var l=["protocol","slashes","auth","host","port","hostname","hash","search","query","pathname","path","href"]},function(e,t,n){function r(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type)||("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))}function o(e){var n=this.useColors;if(e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff),n){var r="color: "+this.color;e.splice(1,0,r,"color: inherit");var o=0,i=0;e[0].replace(/%[a-zA-Z%]/g,function(e){"%%"!==e&&(o++,"%c"===e&&(i=o))}),e.splice(i,0,r)}}function i(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function s(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(e){}}function a(){var e;try{e=t.storage.debug}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=n.i({WARN_DB_SIZE:409600,MAX_MULTISELECT_USERS:5,MULTISELECT_DEBOUNCE_MS:250,PER_PAGE:10,NODE_ENV:"production",CLIENT_VERSION:"2.4.7"}).DEBUG),e}t=e.exports=n(61),t.log=i,t.formatArgs=o,t.save=s,t.load=a,t.useColors=r,t.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},t.enable(a())},function(e,t,n){"undefined"!=typeof process&&"renderer"===process.type?e.exports=n(159):e.exports=n(161)},function(e,t,n){function r(){return"colors"in t.inspectOpts?Boolean(t.inspectOpts.colors):c.isatty(f)}function o(e){var n=this.namespace;if(this.useColors){var r=this.color,o="  [3"+r+";1m"+n+" [0m";e[0]=o+e[0].split("\n").join("\n"+o),e.push("[3"+r+"m+"+t.humanize(this.diff)+"[0m")}else e[0]=(new Date).toUTCString()+" "+n+" "+e[0]}function i(){return d.write(l.format.apply(l,arguments)+"\n")}function s(e){null==e?delete n.i({WARN_DB_SIZE:409600,MAX_MULTISELECT_USERS:5,MULTISELECT_DEBOUNCE_MS:250,PER_PAGE:10,NODE_ENV:"production",CLIENT_VERSION:"2.4.7"}).DEBUG:n.i({WARN_DB_SIZE:409600,MAX_MULTISELECT_USERS:5,MULTISELECT_DEBOUNCE_MS:250,PER_PAGE:10,NODE_ENV:"production",CLIENT_VERSION:"2.4.7"}).DEBUG=e}function a(){return n.i({WARN_DB_SIZE:409600,MAX_MULTISELECT_USERS:5,MULTISELECT_DEBOUNCE_MS:250,PER_PAGE:10,NODE_ENV:"production",CLIENT_VERSION:"2.4.7"}).DEBUG}function u(e){e.inspectOpts={};for(var n=Object.keys(t.inspectOpts),r=0;r<n.length;r++)e.inspectOpts[n[r]]=t.inspectOpts[n[r]]}var c=n(189),l=n(190);t=e.exports=n(61),t.init=u,t.log=i,t.formatArgs=o,t.save=s,t.load=a,t.useColors=r,t.colors=[6,2,3,4,5,1],t.inspectOpts=Object.keys(n.i({WARN_DB_SIZE:409600,MAX_MULTISELECT_USERS:5,MULTISELECT_DEBOUNCE_MS:250,PER_PAGE:10,NODE_ENV:"production",CLIENT_VERSION:"2.4.7"})).filter(function(e){return/^debug_/i.test(e)}).reduce(function(e,t){var r=t.substring(6).toLowerCase().replace(/_([a-z])/g,function(e,t){return t.toUpperCase()}),o=n.i({WARN_DB_SIZE:409600,MAX_MULTISELECT_USERS:5,MULTISELECT_DEBOUNCE_MS:250,PER_PAGE:10,NODE_ENV:"production",CLIENT_VERSION:"2.4.7"})[t];return o=!!/^(yes|on|true|enabled)$/i.test(o)||!/^(no|off|false|disabled)$/i.test(o)&&("null"===o?null:Number(o)),e[r]=o,e},{});var f=parseInt(n.i({WARN_DB_SIZE:409600,MAX_MULTISELECT_USERS:5,MULTISELECT_DEBOUNCE_MS:250,PER_PAGE:10,NODE_ENV:"production",CLIENT_VERSION:"2.4.7"}).DEBUG_FD,10)||2;1!==f&&2!==f&&l.deprecate(function(){},"except for stderr(2) and stdout(1), any other usage of DEBUG_FD is deprecated. Override debug.log if you want to use a different log function (https://git.io/debug_fd)")();var d=1===f?process.stdout:2===f?process.stderr:function(e){var t;switch(process.binding("tty_wrap").guessHandleType(e)){case"TTY":t=new c.WriteStream(e),t._type="tty",t._handle&&t._handle.unref&&t._handle.unref();break;case"FILE":t=new(n(63).SyncWriteStream)(e,{autoClose:!1}),t._type="fs";break;case"PIPE":case"TCP":t=new(n(186).Socket)({fd:e,readable:!1,writable:!0}),t.readable=!1,t.read=null,t._type="pipe",t._handle&&t._handle.unref&&t._handle.unref();break;default:throw new Error("Implement me. Unknown stream file type!")}return t.fd=e,t._isStdio=!0,t}(f);t.formatters.o=function(e){return this.inspectOpts.colors=this.useColors,l.inspect(e,this.inspectOpts).split("\n").map(function(e){return e.trim()}).join(" ")},t.formatters.O=function(e){return this.inspectOpts.colors=this.useColors,l.inspect(e,this.inspectOpts)},t.enable(a())},function(e,t){function n(e){if(e=String(e),!(e.length>100)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var n=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return n*l;case"days":case"day":case"d":return n*c;case"hours":case"hour":case"hrs":case"hr":case"h":return n*u;case"minutes":case"minute":case"mins":case"min":case"m":return n*a;case"seconds":case"second":case"secs":case"sec":case"s":return n*s;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}function r(e){return e>=c?Math.round(e/c)+"d":e>=u?Math.round(e/u)+"h":e>=a?Math.round(e/a)+"m":e>=s?Math.round(e/s)+"s":e+"ms"}function o(e){return i(e,c,"day")||i(e,u,"hour")||i(e,a,"minute")||i(e,s,"second")||e+" ms"}function i(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}var s=1e3,a=60*s,u=60*a,c=24*u,l=365.25*c;e.exports=function(e,t){t=t||{};var i=typeof e;if("string"===i&&e.length>0)return n(e);if("number"===i&&!1===isNaN(e))return t.long?o(e):r(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t){e.exports={_args:[["axios@0.14.0","/Users/mamujeez/Documents/projects/ETDAU/opensims-auth0-delegation-extension"]],_from:"axios@0.14.0",_id:"axios@0.14.0",_inBundle:!1,_integrity:"sha1-QPJPL06RO5+qQ9OnsuQKuHKa+pA=",_location:"/axios",_phantomChildren:{},_requested:{type:"version",registry:!0,raw:"axios@0.14.0",name:"axios",escapedName:"axios",rawSpec:"0.14.0",saveSpec:null,fetchSpec:"0.14.0"},_requiredBy:["/"],_resolved:"https://registry.npmjs.org/axios/-/axios-0.14.0.tgz",_spec:"0.14.0",_where:"/Users/mamujeez/Documents/projects/ETDAU/opensims-auth0-delegation-extension",author:{name:"Matt Zabriskie"},browser:{"./lib/adapters/http.js":"./lib/adapters/xhr.js"},bugs:{url:"https://github.com/mzabriskie/axios/issues"},dependencies:{"follow-redirects":"0.0.7"},description:"Promise based HTTP client for the browser and node.js",devDependencies:{coveralls:"^2.11.9","es6-promise":"^3.2.1",grunt:"0.4.5","grunt-banner":"0.6.0","grunt-cli":"0.1.13","grunt-contrib-clean":"1.0.0","grunt-contrib-nodeunit":"1.0.0","grunt-contrib-watch":"0.6.1","grunt-eslint":"18.0.0","grunt-karma":"0.12.1","grunt-ts":"5.3.2","grunt-typings":"0.1.5","grunt-webpack":"1.0.11","istanbul-instrumenter-loader":"^0.2.0","jasmine-core":"^2.4.1",karma:"^0.13.22","karma-chrome-launcher":"^1.0.1","karma-coverage":"^1.0.0","karma-firefox-launcher":"^1.0.0","karma-jasmine":"^1.0.2","karma-jasmine-ajax":"^0.1.13","karma-opera-launcher":"^1.0.0","karma-phantomjs-launcher":"^1.0.0","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^1.0.0","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.7","karma-webpack":"^1.7.0","load-grunt-tasks":"3.4.1",minimist:"^1.2.0","phantomjs-prebuilt":"^2.1.7",sinon:"^1.17.4","url-search-params":"^0.5.0",webpack:"^1.13.1","webpack-dev-server":"^1.14.1"},homepage:"https://github.com/mzabriskie/axios",keywords:["xhr","http","ajax","promise","node"],license:"MIT",main:"index.js",name:"axios",repository:{type:"git",url:"git+https://github.com/mzabriskie/axios.git"},scripts:{build:"NODE_ENV=production grunt build",coveralls:"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js",examples:"node ./examples/server.js",postversion:"git push && git push --tags",preversion:"npm test",start:"node ./sandbox/server.js",test:"grunt test",version:"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json"},typings:"./axios.d.ts",version:"0.14.0"}},function(e,t){e.exports=[{InstitutionType:"Colleges",InstitutionName:"Algonquin College"},{InstitutionType:"Colleges",InstitutionName:"Algonquin College"},{InstitutionType:"Colleges",InstitutionName:"Cambrian College"},{InstitutionType:"Colleges",InstitutionName:"Canadore College"},{InstitutionType:"Colleges",InstitutionName:"Centennial College"},{InstitutionType:"Colleges",InstitutionName:"Collège Boréal"},{InstitutionType:"Colleges",InstitutionName:"Conestoga College"},{InstitutionType:"Colleges",InstitutionName:"Confederation College"},{InstitutionType:"Colleges",InstitutionName:"Durham College"},{InstitutionType:"Colleges",InstitutionName:"Fanshawe College"},{InstitutionType:"Colleges",InstitutionName:"Sir Sandford Fleming College"},{InstitutionType:"Colleges",InstitutionName:"Sir Sandford Fleming College"},{InstitutionType:"Colleges",InstitutionName:"George Brown College"},{InstitutionType:"Colleges",InstitutionName:"Georgian College"},{InstitutionType:"Colleges",InstitutionName:"Humber College"},{InstitutionType:"Colleges",InstitutionName:"La Cite Collegiale"},{InstitutionType:"Colleges",InstitutionName:"Lambton College"},{InstitutionType:"Colleges",InstitutionName:"Loyalist College"},{InstitutionType:"Colleges",InstitutionName:"Mohawk College"},{InstitutionType:"Colleges",InstitutionName:"Niagara College"},{InstitutionType:"Colleges",InstitutionName:"Northern College"},{InstitutionType:"Colleges",InstitutionName:"Northern College"},{InstitutionType:"Colleges",InstitutionName:"Northern College"},{InstitutionType:"Colleges",InstitutionName:"Sault College"},{InstitutionType:"Colleges",InstitutionName:"Seneca College"},{InstitutionType:"Colleges",InstitutionName:"Sheridan College"},{InstitutionType:"Colleges",InstitutionName:"St. Clair College"},{InstitutionType:"Colleges",InstitutionName:"St. Lawrence College"},{InstitutionType:"Colleges",InstitutionName:"St. Lawrence College"},{InstitutionType:"Colleges",InstitutionName:"St. Lawrence College"},{InstitutionType:"Universities",InstitutionName:"Algoma University"},{InstitutionType:"Universities",InstitutionName:"Brock University"},{InstitutionType:"Universities",InstitutionName:"Carleton University"},{InstitutionType:"Universities",InstitutionName:"Dominican University College"},{InstitutionType:"Universities",InstitutionName:"Lakehead University"},{InstitutionType:"Universities",InstitutionName:"Laurentian University"},{InstitutionType:"Universities",InstitutionName:"McMaster University"},{InstitutionType:"Universities",InstitutionName:"Nipissing University"},{InstitutionType:"Universities",InstitutionName:"Northern Ontario School of Medicine"},{InstitutionType:"Universities",InstitutionName:"OCAD University"},{InstitutionType:"Universities",InstitutionName:"Queen's University"},{InstitutionType:"Universities",InstitutionName:"Royal Military College of Canada"},{InstitutionType:"Universities",InstitutionName:"Ryerson University"},{InstitutionType:"Universities",InstitutionName:"University of Ottawa"},{InstitutionType:"Universities",InstitutionName:"Trent University"},{InstitutionType:"Universities",InstitutionName:"University of Guelph"},{InstitutionType:"Universities",InstitutionName:"University of Guelph"},{InstitutionType:"Universities",InstitutionName:"University of Guelph"},{InstitutionType:"Universities",InstitutionName:"University of Guelph"},{InstitutionType:"Universities",InstitutionName:"University of Ontario Inst of Technology"},{InstitutionType:"Universities",InstitutionName:"University of Ottawa"},{InstitutionType:"Universities",InstitutionName:"University of Toronto"},{InstitutionType:"Universities",InstitutionName:"University of Waterloo"},{InstitutionType:"Universities",InstitutionName:"University of Windsor"},{InstitutionType:"Universities",InstitutionName:"Western University"},{InstitutionType:"Universities",InstitutionName:"Wilfrid Laurier University"},{InstitutionType:"Universities",InstitutionName:"York University"},{InstitutionType:"MAESD",InstitutionName:"DMO"},{InstitutionType:"MAESD",InstitutionName:"WPID"},{InstitutionType:"MAESD",InstitutionName:"ETD"},{InstitutionType:"MAESD",InstitutionName:"AELSD"},{InstitutionType:"MAESD",InstitutionName:"PSED"},{InstitutionType:"MAESD",InstitutionName:"CSC"},{InstitutionType:"Other Ministry",InstitutionName:"MOI"},{InstitutionType:"Other Ministry",InstitutionName:"MEDU"},{InstitutionType:"Other Ministry",InstitutionName:"MOL"},{InstitutionType:"Non-Government",InstitutionName:"HEQCO"},{InstitutionType:"Non-Government",InstitutionName:"OCUFA"},{InstitutionType:"Non-Government",InstitutionName:"COU"},{InstitutionType:"Non-Government",InstitutionName:"CO"},{InstitutionType:"Non-Government",InstitutionName:"ONCAT"},{InstitutionType:"Non-Government",InstitutionName:"OPSEU"},{InstitutionType:"Non-Government",InstitutionName:"OUSA"},{InstitutionType:"Non-Government",InstitutionName:"CFS"},{InstitutionType:"Non-Government",InstitutionName:"CSA"}]},function(e,t){e.exports={title:"Open Sims Delegated Administration Dashboard",name:"open-sims-auth0-delegated-admin",version:"2.4.7",author:"csc",useHashName:!1,description:"This extension allows non-dashboard administrators to manage (a subset of) users.",type:"application",category:"end_user",logoUrl:"https://cdn.auth0.com/extensions/auth0-delegated-admin/assets/logo.svg",initialUrlPath:"/",docsUrl:"https://auth0.com/docs/extensions/delegated-admin",repository:"https://github.com/ETDAU/opensims-auth0-delegation-extension",keywords:["auth0","extension"],auth0:{createClient:!0,onUninstallPath:"/.extensions/on-uninstall",scopes:"read:clients delete:clients read:connections read:users update:users delete:users create:users read:logs read:device_credentials update:device_credentials delete:device_credentials"},secrets:{EXTENSION_CLIENT_ID:{description:"Client ID of the application you created in the Auth0 Dashboard",required:!0},TITLE:{description:"Custom title for the dashboard",example:"Open SIMS User Manager",required:!0},CUSTOM_CSS:{description:"A CSS file containing custom styles for the extension",example:"https://cdn.fabrikam.com/static/extensions/theme/fabrikam.css",required:!1},FEDERATED_LOGOUT:{description:"Also sign out from the IDP when users logout?",type:"select",allowMultiple:!1,options:[{value:"false",text:"No"},{value:"true",text:"Yes"}]}}}},function(e,t){function n(e){this.message=e}function r(e){var t=String(e).replace(/=+$/,"");if(t.length%4==1)throw new n("'atob' failed: The string to be decoded is not correctly encoded.");for(var r,i,s=0,a=0,u="";i=t.charAt(a++);~i&&(r=s%4?64*r+i:i,s++%4)?u+=String.fromCharCode(255&r>>(-2*s&6)):0)i=o.indexOf(i);return u}var o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";n.prototype=new Error,n.prototype.name="InvalidCharacterError",e.exports="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||r},function(e,t,n){function r(e){return decodeURIComponent(o(e).replace(/(.)/g,function(e,t){var n=t.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n}))}var o=n(166);e.exports=function(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!"}try{return r(t)}catch(e){return o(t)}}},function(e,t){function n(e,t){return null==e?void 0:e[t]}function r(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function o(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function i(){this.__data__=be?be(null):{}}function s(e){return this.has(e)&&delete this.__data__[e]}function a(e){var t=this.__data__;if(be){var n=t[e];return n===G?void 0:n}return he.call(t,e)?t[e]:void 0}function u(e){var t=this.__data__;return be?void 0!==t[e]:he.call(t,e)}function c(e,t){return this.__data__[e]=be&&void 0===t?G:t,this}function l(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function f(){this.__data__=[]}function d(e){var t=this.__data__,n=x(t,e);return!(n<0)&&(n==t.length-1?t.pop():ye.call(t,n,1),!0)}function p(e){var t=this.__data__,n=x(t,e);return n<0?void 0:t[n][1]}function h(e){return x(this.__data__,e)>-1}function m(e,t){var n=this.__data__,r=x(n,e);return r<0?n.push([e,t]):n[r][1]=t,this}function v(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function g(){this.__data__={hash:new o,map:new(_e||l),string:new o}}function y(e){return C(this,e).delete(e)}function _(e){return C(this,e).get(e)}function b(e){return C(this,e).has(e)}function w(e,t){return C(this,e).set(e,t),this}function E(e,t,n){var r=e[t];he.call(e,t)&&P(r,n)&&(void 0!==n||t in e)||(e[t]=n)}function x(e,t){for(var n=e.length;n--;)if(P(e[n][0],t))return n;return-1}function I(e){return!(!q(e)||k(e))&&(D(e)||r(e)?ve:re).test(L(e))}function A(e,t,n,r){if(!q(e))return e;t=O(t,e)?[t]:S(t);for(var o=-1,i=t.length,s=i-1,a=e;null!=a&&++o<i;){var u=M(t[o]),c=n;if(o!=s){var l=a[u];c=r?r(l,u,a):void 0,void 0===c&&(c=q(l)?l:N(t[o+1])?[]:{})}E(a,u,c),a=a[u]}return e}function T(e){if("string"==typeof e)return e;if(z(e))return Ee?Ee.call(e):"";var t=e+"";return"0"==t&&1/e==-W?"-0":t}function S(e){return Ie(e)?e:xe(e)}function C(e,t){var n=e.__data__;return j(t)?n["string"==typeof t?"string":"hash"]:n.map}function U(e,t){var r=n(e,t);return I(r)?r:void 0}function N(e,t){return!!(t=null==t?$:t)&&("number"==typeof e||oe.test(e))&&e>-1&&e%1==0&&e<t}function O(e,t){if(Ie(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!z(e))||(Y.test(e)||!K.test(e)||null!=t&&e in Object(t))}function j(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}function k(e){return!!de&&de in e}function M(e){if("string"==typeof e||z(e))return e;var t=e+"";return"0"==t&&1/e==-W?"-0":t}function L(e){if(null!=e){try{return pe.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function R(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError(H);var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var s=e.apply(this,r);return n.cache=i.set(o,s),s};return n.cache=new(R.Cache||v),n}function P(e,t){return e===t||e!==e&&t!==t}function D(e){var t=q(e)?me.call(e):"";return t==X||t==Z}function q(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function B(e){return!!e&&"object"==typeof e}function z(e){return"symbol"==typeof e||B(e)&&me.call(e)==J}function F(e){return null==e?"":T(e)}function V(e,t,n){return null==e?e:A(e,t,n)}var H="Expected a function",G="__lodash_hash_undefined__",W=1/0,$=9007199254740991,X="[object Function]",Z="[object GeneratorFunction]",J="[object Symbol]",K=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Y=/^\w*$/,Q=/^\./,ee=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,te=/[\\^$.*+?()[\]{}|]/g,ne=/\\(\\)?/g,re=/^\[object .+?Constructor\]$/,oe=/^(?:0|[1-9]\d*)$/,ie="object"==typeof global&&global&&global.Object===Object&&global,se="object"==typeof self&&self&&self.Object===Object&&self,ae=ie||se||Function("return this")(),ue=Array.prototype,ce=Function.prototype,le=Object.prototype,fe=ae["__core-js_shared__"],de=function(){var e=/[^.]+$/.exec(fe&&fe.keys&&fe.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),pe=ce.toString,he=le.hasOwnProperty,me=le.toString,ve=RegExp("^"+pe.call(he).replace(te,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ge=ae.Symbol,ye=ue.splice,_e=U(ae,"Map"),be=U(Object,"create"),we=ge?ge.prototype:void 0,Ee=we?we.toString:void 0;o.prototype.clear=i,o.prototype.delete=s,o.prototype.get=a,o.prototype.has=u,o.prototype.set=c,l.prototype.clear=f,l.prototype.delete=d,l.prototype.get=p,l.prototype.has=h,l.prototype.set=m,v.prototype.clear=g,v.prototype.delete=y,v.prototype.get=_,v.prototype.has=b,v.prototype.set=w;var xe=R(function(e){e=F(e);var t=[];return Q.test(e)&&t.push(""),e.replace(ee,function(e,n,r,o){t.push(r?o.replace(ne,"$1"):n||e)}),t});R.Cache=v;var Ie=Array.isArray;e.exports=V},function(e,t,n){function r(e){var t=function(){return t.called?t.value:(t.called=!0,t.value=e.apply(this,arguments))};return t.called=!1,t}function o(e){var t=function(){if(t.called)throw new Error(t.onceError);return t.called=!0,t.value=e.apply(this,arguments)},n=e.name||"Function wrapped with `once`";return t.onceError=n+" shouldn't be called more than once",t.called=!1,t}var i=n(194);e.exports=i(r),e.exports.strict=i(o),r.proto=r(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return r(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return o(this)},configurable:!0})})},function(e,t){function n(e){throw new Error("Cannot find module '"+e+"'.")}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=170},function(e,t,n){var r=n(184),o=n(35).dirname;e.exports=function(e,t){function i(e){var n=r._cache;t&&(r._cache={});var o=r._load(e,s);return r._cache=n,o}var s=new r(e);s.filename=e,s.paths=r._nodeModulePaths(o(e)),i.resolve=function(e){var t=r._resolveFilename(e,s);return t instanceof Array?t[1]:t};try{i.paths=!function(){var e=new Error('Cannot find module "."');throw e.code="MODULE_NOT_FOUND",e}().paths}catch(e){}return i.main=process.mainModule,i.extensions=void 0,i.cache=n.c,i}},function(e,t,n){var r=n(191);e.exports=function(e,t,n){var o={},i="SAFE_EVAL_"+Math.floor(1e6*Math.random());return o[i]={},e=i+"="+e,t&&Object.keys(t).forEach(function(e){o[e]=t[e]}),r.runInNewContext(e,o,n),o[i]}},function(e,t){e.exports=require("assert")},function(e,t){e.exports=require("async@2.1.2")},function(e,t){e.exports=require("auth0@2.4.0")},function(e,t){e.exports=require("body-parser@1.12.4")},function(e,t){e.exports=require("buffer")},function(e,t){e.exports=require("cookie-parser@1.4.4")},function(e,t){e.exports=require("crypto")},function(e,t){e.exports=require("ejs@2.3.1")},function(e,t){e.exports=require("jsonwebtoken@7.1.9")},function(e,t){e.exports=require("jwks-rsa@1.1.1")},function(e,t){e.exports=require("lru-memoizer@1.10.0")},function(e,t){e.exports=require("module")},function(e,t){e.exports=require("morgan@1.5.3")},function(e,t){e.exports=require("net")},function(e,t){e.exports=require("request@2.67.0")},function(e,t){e.exports=require("stream-consume@0.1.0")},function(e,t){e.exports=require("tty")},function(e,t){e.exports=require("util")},function(e,t){e.exports=require("vm")},function(e,t){e.exports=require("webtask-tools")},function(e,t){e.exports=require("winston@1.0.0")},function(e,t){e.exports=require("wrappy@1.0.1")},function(e,t){e.exports=require("zlib")}]);