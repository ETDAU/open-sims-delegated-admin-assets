module.exports=function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=56)}([function(e,t){e.exports=require("auth0-extension-tools@1.2.1")},function(e,t){e.exports=require("express@4.14.0")},function(e,t,n){"use strict";e.exports=n(0).config()},function(e,t,n){const r=n(38),i=n(15),o=n(31),s=n(37);e.exports.createServer=r.createServer,e.exports.urlHelpers=i,e.exports.middlewares=o,e.exports.routes=s},function(e,t,n){"use strict";var r=n(116);r.emitErrs=!0;var i=new r.Logger({transports:[new r.transports.Console({timestamp:!0,level:"debug",handleExceptions:!0,json:!1,colorize:!0})],exitOnError:!1});e.exports=i,e.exports.stream={write:function(e){i.info(e.replace(/\n$/,""))}}},function(e,t){e.exports=require("lodash@3.10.1")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.USER_ACCESS_LEVEL=1,t.ADMIN_ACCESS_LEVEL=2,t.USER_ROLE_NAME="Delegated Admin - User",t.ADMIN_ROLE_NAME="Delegated Admin - Administrator",t.VALID_SCRIPTS=["access","filter","create","memberships","settings"]},function(e,t,n){e.exports=!n(11)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t){e.exports=require("bluebird@3.4.6")},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.verifyUserAccess=t.hasAccessLevel=t.getUserAccessLevel=void 0;var i=n(40),o=r(i),s=n(41),a=r(s),u=n(42),c=r(u);t.getUserAccessLevel=o.default,t.hasAccessLevel=a.default,t.verifyUserAccess=c.default},function(e,t){var n=e.exports={version:"2.5.1"};"number"==typeof __e&&(__e=n)},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t){e.exports=require("path")},function(e,t,n){function r(e){if(!e.container)return null;const t=e.container.replace(u,"\\$&"),n=e.jtn?e.jtn.replace(u,"\\$&"):"";if(e.url_format===a)return new RegExp("^/api/run/"+t+"/(?:"+n+"/?)?");if(e.url_format===s)return new RegExp("^/"+t+"/(?:"+n+"/?)?");if(e.url_format===o)return new RegExp("^/(?:"+n+"/?)?");throw new Error("Unsupported webtask URL format.")}const i=n(26),o=3,s=2,a=1,u=/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,c=function(e,t){var n=i.parse(e).pathname||"";return n=n.replace(t,"").replace(/^\/|\/$/g,""),n.startsWith("/")||(n="/"+n),n.endsWith("/")||(n+="/"),n};e.exports.getBasePath=function(e){return c(e.originalUrl||"",e.path)},e.exports.getBaseUrl=function(e,t){var n=t;const r=i.parse(e.originalUrl||"").pathname||"";return i.format({protocol:n||"https",host:e.headers.host,pathname:r.replace(e.path,"").replace(/\/$/g,"")})},e.exports.getWebtaskUrl=function(e){const t=r(e.x_wt),n=e.url,o=e.url.replace(t,"/"),s=i.parse(o||"").pathname,a=i.parse(n||"").pathname||"";var u=i.format({protocol:"https",host:e.headers.host,pathname:a.replace(s,"").replace(/\/$/g,"")});return e.x_wt&&(0===u.indexOf("https://sandbox.it.auth0.com")?u=u.replace("https://sandbox.it.auth0.com/api/run/"+e.x_wt.container+"/","https://"+e.x_wt.container+".us.webtask.io/"):0===u.indexOf("https://sandbox-eu.it.auth0.com")?u=u.replace("https://sandbox-eu.it.auth0.com/api/run/"+e.x_wt.container+"/","https://"+e.x_wt.container+".eu.webtask.io/"):0===u.indexOf("https://sandbox-au.it.auth0.com")&&(u=u.replace("https://sandbox-au.it.auth0.com/api/run/"+e.x_wt.container+"/","https://"+e.x_wt.container+".au.webtask.io/"))),u}},function(e,t,n){"use strict";var r=n(97);e.exports=function(e,t,n){return function(i,o,s){var a=r(s);return!0===e||"function"==typeof e&&e(i,o,a)?t(i,o,a):n?n(i,o,a):a()}}},function(e,t,n){"use strict";t.__esModule=!0;var r=n(57),i=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default=i.default||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){var r=n(12),i=n(10),o=n(69),s=n(73),a=function(e,t,n){var u,c,l,d=e&a.F,f=e&a.G,p=e&a.S,h=e&a.P,m=e&a.B,g=e&a.W,v=f?i:i[t]||(i[t]={}),y=v.prototype,_=f?r:p?r[t]:(r[t]||{}).prototype;f&&(n=t);for(u in n)(c=!d&&_&&void 0!==_[u])&&u in v||(l=c?_[u]:n[u],v[u]=f&&"function"!=typeof _[u]?n[u]:m&&c?o(l,r):g&&_[u]==l?function(e){var t=function(t,n,r){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,r)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(l):h&&"function"==typeof l?o(Function.call,l):l,h&&((v.virtual||(v.virtual={}))[u]=l,e&a.R&&y&&!y[u]&&s(y,u,l)))};a.F=1,a.G=2,a.S=4,a.P=8,a.B=16,a.W=32,a.U=64,a.R=128,e.exports=a},function(e,t,n){var r=n(68);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t,n){var r=n(66),i=n(74),o=n(86),s=Object.defineProperty;t.f=n(7)?Object.defineProperty:function(e,t,n){if(r(e),t=o(t,!0),r(n),i)try{return s(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t,n){var r=n(20),i=n(18);e.exports=function(e){return r(i(e))}},function(e,t,n){function r(e){return e&&"[object Function]"==d.call(e)}function i(e){return function(t,n,r){return r(null,e)}}var o=n(108),s=n(90),a=n(91),u=n(101),c=n(96),l=function(e,t,n){return n(null,!1)},d={}.toString;e.exports=function(e){if(!e||!e.secret)throw new Error("secret should be set");var t=e.secret;r(t)||(t=i(t));var n=e.isRevoked||l,d=e.userProperty||e.requestProperty||"user",f=void 0===e.credentialsRequired||e.credentialsRequired,p=function(r,i,a){var l;if("OPTIONS"===r.method&&r.headers.hasOwnProperty("access-control-request-headers")){if(!!~r.headers["access-control-request-headers"].split(",").map(function(e){return e.trim()}).indexOf("authorization"))return a()}if(void 0!==e.skip&&(console.warn("WARN: express-jwt: options.skip is deprecated"),console.warn("WARN: use app.use(jwt(options).unless({path: '/x'}))"),e.skip.indexOf(r.url)>-1))return a();if(e.getToken&&"function"==typeof e.getToken)try{l=e.getToken(r)}catch(e){return a(e)}else if(r.headers&&r.headers.authorization){var p=r.headers.authorization.split(" ");if(2!=p.length)return a(new s("credentials_bad_format",{message:"Format is Authorization: Bearer [token]"}));var h=p[0],m=p[1];if(!/^Bearer$/i.test(h))return a(new s("credentials_bad_scheme",{message:"Format is Authorization: Bearer [token]"}));l=m}if(!l)return f?a(new s("credentials_required",{message:"No authorization token was found"})):a();var g=o.decode(l,{complete:!0})||{};u.waterfall([function(e){4==t.length?t(r,g.header,g.payload,e):t(r,g.payload,e)},function(t,n){o.verify(l,t,e,function(e,t){e&&f?n(new s("invalid_token",e)):n(null,t)})},function(e,t){n(r,g.payload,function(n,r){n?t(n):r?t(new s("revoked_token",{message:"The token has been revoked."})):t(null,e)})}],function(e,t){if(e)return a(e);c(r,d,t),a()})};return p.unless=a,p}},function(e,t,n){"use strict";function r(e){this.message=e}var i=n(95);r.prototype=new Error,r.prototype.name="InvalidTokenError",e.exports=function(e,t){if("string"!=typeof e)throw new r("Invalid token specified");t=t||{};var n=!0===t.header?0:1;try{return JSON.parse(i(e.split(".")[n]))}catch(e){throw new r("Invalid token specified: "+e.message)}},e.exports.InvalidTokenError=r},function(e,t){e.exports=require("url")},function(e,t,n){"use strict";(function(t){function r(e){return e&&e.__esModule?e:{default:e}}var i=n(14),o=r(i),s=n(112),a=r(s),u=n(1),c=r(u),l=n(103),d=r(l),f=n(0),p=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(f),h=n(3),m=n(44),g=r(m),v=n(47),y=r(v),_=n(52),b=r(_),w=n(48),x=r(w),I=n(2),E=r(I),A=n(4),T=r(A);e.exports=function(e,n){E.default.setProvider(e);var r=n?new p.WebtaskStorageContext(n,{force:1}):new p.FileStorageContext(o.default.join(t,"./data.json"),{mergeWrites:!0}),i=new c.default;return i.use(function(e,t,n){e.webtaskContext&&E.default.setProvider(p.configProvider.fromWebtaskContext(e.webtaskContext)),n()}),i.use((0,a.default)(":method :url :status :response-time ms - :res[content-length]",{stream:T.default.stream})),i.use(d.default.json()),i.use(d.default.urlencoded({extended:!1})),i.use("/api",(0,g.default)(r)),i.use("/app",c.default.static(o.default.join(t,"../dist"))),i.use("/meta",(0,b.default)()),i.use("/.extensions",(0,y.default)()),i.get("*",(0,x.default)()),i.use(h.middlewares.errorHandler(T.default.error)),i}}).call(t,"/")},function(e,t,n){const r=n(25),i=n(24),o=n(0),s=n(16);e.exports=function(e){if(!e||"object"!=typeof e)throw new o.ArgumentError("Must provide the options");if(null===e.secret||void 0===e.secret)throw new o.ArgumentError("Must provide a valid secret");if("string"!=typeof e.secret||0===e.secret.length)throw new o.ArgumentError("The provided secret is invalid: "+e.secret);if(null===e.audience||void 0===e.audience)throw new o.ArgumentError("Must provide a valid secret");if("string"!=typeof e.audience||0===e.audience.length)throw new o.ArgumentError("The provided audience is invalid: "+e.audience);if(null===e.baseUrl||void 0===e.baseUrl)throw new o.ArgumentError("Must provide a valid base URL");if("string"!=typeof e.baseUrl||0===e.baseUrl.length)throw new o.ArgumentError("The provided base URL is invalid: "+e.baseUrl);const t=i({audience:e.audience,issuer:e.baseUrl,secret:e.secret,algorithms:["HS256"],credentialsRequired:e.credentialsRequired||!0});return function(n,r,i){t(n,r,function(t){return t?i(t):e.onLoginSuccess?e.onLoginSuccess(n,r,i):i()})}},e.exports.optional=function(t){const n=e.exports(t);return s(function(e){if(e&&e.headers&&e.headers.authorization&&0===e.headers.authorization.indexOf("Bearer "))try{const n=r(e.headers.authorization.split(" ")[1]);return n&&n.iss===t.baseUrl}catch(e){return!1}return!1},n)}},function(e,t,n){const r=n(25),i=n(24),o=n(109),s=n(0),a=n(16),u=n(0).UnauthorizedError;e.exports=function(e){if(!e||"object"!=typeof e)throw new s.ArgumentError("Must provide the options");if(null===e.domain||void 0===e.domain)throw new s.ArgumentError("Must provide a valid domain");if("string"!=typeof e.domain||0===e.domain.length)throw new s.ArgumentError("The provided domain is invalid: "+e.domain);if(null===e.audience||void 0===e.audience)throw new s.ArgumentError("Must provide a valid audience");if("string"!=typeof e.audience||0===e.audience.length)throw new s.ArgumentError("The provided audience is invalid: "+e.audience);const t=i({secret:o.expressJwtSecret({cache:!0,rateLimit:!0,jwksRequestsPerMinute:5,jwksUri:"https://"+e.domain+"/.well-known/jwks.json",handleSigningKeyError:function(e,t){return t(e instanceof o.SigningKeyNotFoundError?new u("A token was provided with an invalid kid"):e)}}),audience:e.audience,issuer:"https://"+e.domain+"/",algorithms:["RS256"],credentialsRequired:e&&e.credentialsRequired||!0});return function(n,r,i){t(n,r,function(t){return t?i(t):e.onLoginSuccess?e.onLoginSuccess(n,r,i):i()})}},e.exports.optional=function(t){const n=e.exports(t);return a(function(e){if(e&&e.headers&&e.headers.authorization&&0===e.headers.authorization.indexOf("Bearer "))try{const n=r(e.headers.authorization.split(" ")[1]);return n&&n.iss==="https://"+t.domain+"/"}catch(e){return!1}return!1},n)}},function(e,t,n){e.exports=function(e){return function(t,n,r,i){return e&&e(t),t&&t.status?(r.status(t.status),r.json({error:t.code||t.name,message:t.message||t.name})):(r.status(t.status||500),r.json({error:"InternalServerError",message:t.message||t.name}))}}},function(e,t,n){e.exports.authenticateAdmins=n(28),e.exports.authenticateUsers=n(29),e.exports.requireAuthentication=n(33),e.exports.errorHandler=n(30),e.exports.managementApiClient=n(32),e.exports.validateHookToken=n(34),e.exports.webtaskConfig=n(35)},function(e,t,n){const r=n(0);e.exports=function(e){return function(t,n,i){const o=t,s=t.user&&t.user.access_token&&t.user.access_token.length,a=s?{domain:e.domain,accessToken:t.user.access_token}:e;r.managementApi.getClient(a).then(function(e){return o.auth0=e,i(),null}).catch(function(e){i(e)})}}},function(e,t,n){const r=n(0).UnauthorizedError;e.exports=function(e,t,n){return e.user?n():n(new r("Authentication required for this endpoint."))}},function(e,t,n){const r=n(0);e.exports=function(e,t,n){if(null===e||void 0===e)throw new r.ArgumentError("Must provide the domain");if("string"!=typeof e||0===e.length)throw new r.ArgumentError("The provided domain is invalid: "+e);if(null===t||void 0===t)throw new r.ArgumentError("Must provide the webtaskUrl");if("string"!=typeof t||0===t.length)throw new r.ArgumentError("The provided webtaskUrl is invalid: "+t);if(null===n||void 0===n)throw new r.ArgumentError("Must provide the extensionSecret");if("string"!=typeof n||0===n.length)throw new r.ArgumentError("The provided extensionSecret is invalid: "+n);return function(i){if(null===i||void 0===i)throw new r.ArgumentError("Must provide the hookPath");if("string"!=typeof i||0===i.length)throw new r.ArgumentError("The provided hookPath is invalid: "+i);return function(o,s,a){if(o.headers.authorization&&"Bearer"===o.headers.authorization.split(" ")[0]){const u=o.headers.authorization.split(" ")[1];try{if(r.validateHookToken(e,t,i,n,u))return a()}catch(e){return a(e)}}return a(new r.HookTokenError("Hook token missing for the call to: "+i))}}}},function(e,t,n){const r=n(0);e.exports=function(e){return function(t,n,i){return t.webtaskContext&&e.setProvider(r.configProvider.fromWebtaskContext(t.webtaskContext)),i()}}},function(e,t,n){const r=n(1),i=n(105),o=n(61),s=n(0),a=n(15);e.exports=function(e){if(!e||"object"!=typeof e)throw new s.ArgumentError("Must provide the options");if(null===e.secret||void 0===e.secret)throw new s.ArgumentError("Must provide a valid secret");if("string"!=typeof e.secret||0===e.secret.length)throw new s.ArgumentError("The provided secret is invalid: "+e.secret);if(null===e.audience||void 0===e.audience)throw new s.ArgumentError("Must provide a valid secret");if("string"!=typeof e.audience||0===e.audience.length)throw new s.ArgumentError("The provided audience is invalid: "+e.audience);if(null===e.rta||void 0===e.rta)throw new s.ArgumentError("Must provide a valid rta");if("string"!=typeof e.rta||0===e.rta.length)throw new s.ArgumentError("The provided rta is invalid: "+e.rta);if(null===e.domain||void 0===e.domain)throw new s.ArgumentError("Must provide a valid domain");if("string"!=typeof e.domain||0===e.domain.length)throw new s.ArgumentError("The provided domain is invalid: "+e.domain);if(null===e.baseUrl||void 0===e.baseUrl)throw new s.ArgumentError("Must provide a valid base URL");if("string"!=typeof e.baseUrl||0===e.baseUrl.length)throw new s.ArgumentError("The provided base URL is invalid: "+e.baseUrl);if(null===e.clientName||void 0===e.clientName)throw new s.ArgumentError("Must provide a valid client name");if("string"!=typeof e.clientName||0===e.clientName.length)throw new s.ArgumentError("The provided client name is invalid: "+e.clientName);const t=e.stateKey||"state",n=e.urlPrefix||"",u=e.sessionStorageKey||"apiToken",c=r.Router();return c.get(n+"/login",function(r,o){const u=i.randomBytes(16).toString("hex");o.cookie(t,u);const c=new s.SessionManager(e.rta,e.domain,e.baseUrl),l=c.createAuthorizeUrl({redirectUri:a.getBaseUrl(r)+n+"/login/callback",scopes:e.scopes,expiration:e.expiration});o.redirect(l+"&state="+u)}),c.post(n+"/login/callback",o(),function(n,r,i){return n.cookies&&n.cookies[t]===n.body.state?new s.SessionManager(e.rta,e.domain,e.baseUrl).create(n.body.id_token,n.body.access_token,{secret:e.secret,issuer:e.baseUrl,audience:e.audience}).then(function(e){r.header("Content-Type","text/html"),r.status(200).send('<html><head><script type="text/javascript">sessionStorage.setItem("'+u+'", "'+e+'");window.location.href = "'+a.getBaseUrl(n)+'";<\/script></head></html>')}).catch(function(e){i(e)}):i(new s.ValidationError("Login failed. State mismatch."))}),c.get(n+"/logout",function(t,n){const r=encodeURIComponent(a.getBaseUrl(t));n.header("Content-Type","text/html"),n.status(200).send('<html><head><script type="text/javascript">sessionStorage.removeItem("'+u+'");window.location.href = "https://'+e.rta+"/v2/logout/?returnTo="+r+"&client_id="+r+'";<\/script></head></html>')}),c.get("/.well-known/oauth2-client-configuration",function(t,r){r.header("Content-Type","application/json"),r.status(200).send({redirect_uris:[a.getBaseUrl(t)+n+"/login/callback"],client_name:e.clientName,post_logout_redirect_uris:[a.getBaseUrl(t)]})}),c}},function(e,t,n){e.exports.dashboardAdmins=n(36)},function(e,t,n){const r=n(0),i=n(115);e.exports.createServer=function(e){const t=r.createServer(e);var n=null;return i.fromExpress(function(e,r){return n||(n=t(e.webtaskContext)),n(e,r)})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t.default=function(e,t){var n=new r.ValidationError(e.message||""),i=t+"-script error";return e.stack&&(i=e.stack.replace(/SAFE_EVAL_\d+/,t+"-script error").replace("evalmachine.<anonymous>","line")),n.stack=i.split("\n").slice(0,2).join(" "),n}},function(e,t,n){"use strict";var r=n(5),i=function(e){return e&&e.__esModule?e:{default:e}}(r),o=n(6),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(o),a=function(e){console.log("getuserroles user is "),console.log(e),console.log("end getuserroles user is ");var t=[e.roles,e.app_metadata&&e.app_metadata.roles,e.app_metadata&&e.app_metadata.authorization&&e.app_metadata.authorization.roles];return(0,i.default)(t).flatten().filter(function(e){return e}).uniq().value()},u=function(e){var t=0;if(!e)return t;var n=Array.isArray(e)?e:e.replace(", ",",","g").split(",");return n.indexOf(s.USER_ROLE_NAME)>=0&&(t=s.USER_ACCESS_LEVEL),n.indexOf(s.ADMIN_ROLE_NAME)>=0&&(t=s.ADMIN_ACCESS_LEVEL),t};e.exports=function(e,t,n){var r=a(e.user);e.user.role=u(r),n()}},function(e,t,n){"use strict";var r=n(0);e.exports=function(e){return function(t,n,i){t.user&&t.user.role>=e?i():i(new r.ForbiddenError("Forbidden! Sorry, you have no permissions to do this."))}}},function(e,t,n){"use strict";var r=n(8),i=function(e){return e&&e.__esModule?e:{default:e}}(r),o=n(0);e.exports=function(e,t){return function(n,r,s){return n.auth0.users.get({id:n.params.id}).then(function(r){if(!r)return i.default.reject(new o.NotFoundError("User not found: "+n.params.id));var s={request:{user:n.user},payload:{user:r,action:e}};return t.execute("access",s)}).then(s).catch(s)}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(17),o=r(i),s=n(59),a=r(s),u=n(60),c=r(u),l=n(99),d=r(l),f=n(8),p=r(f),h=n(100),m=r(h),g=n(110),v=r(g),y=n(0),_=n(4),b=r(_),w=n(39),x=r(w),I=function(){function e(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e4;if((0,a.default)(this,e),null===t||void 0===t)throw new y.ArgumentError("Must provide a storage object.");this.hookRequire=(0,d.default)("hooks"),this.log=b.default.debug.bind(b.default),this.cache={},this.storage=t,this.getCached=p.default.promisify((0,v.default)({load:function(e,t){n.get(e).then(function(e){return t(null,e),null}).catch(t)},hash:function(e){return e},max:100,maxAge:r}))}return(0,c.default)(e,[{key:"get",value:function(e){return this.storage.read().then(function(t){return t&&t.scripts?t.scripts[e]:null})}},{key:"save",value:function(e,t){var n=this;return this.storage.read().then(function(n){return n.scripts||(n.scripts={}),n.scripts[e]=t,n}).then(function(e){return n.storage.write(e)})}},{key:"readCustomData",value:function(){return this.storage.read().then(function(e){return e.customData||{}})}},{key:"writeCustomData",value:function(e){var t=this;return this.storage.read().then(function(t){return t.customData=e,t}).then(function(e){return t.storage.write(e)})}},{key:"createContext",value:function(e){return(0,o.default)({log:this.log,global:this.cache,read:this.readCustomData.bind(this),write:this.writeCustomData.bind(this)},e)}},{key:"execute",value:function(e,t){var n=this;return this.getCached(e).then(function(r){return r?(b.default.debug("Executing Delegated Admin hook: "+e),new p.default(function(i,o){try{(0,m.default)(r,{require:n.hookRequire})(n.createContext(t),function(t,n){t?(b.default.error("Failed to execute Delegated Admin hook ("+e+'): "'+t+'"'),o((0,x.default)(t,e))):i(n)})}catch(t){b.default.error("Failed to compile Delegated Admin hook ("+e+'): "'+t+'"'),o((0,x.default)(t,e))}})):null})}}]),e}();t.default=I},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=n(3),s=n(9),a=n(2),u=r(a),c=n(6),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(c),d=n(43),f=r(d),p=n(45),h=r(p),m=n(46),g=r(m),v=n(53),y=r(v),_=n(49),b=r(_),w=n(54),x=r(w),I=n(51),E=r(I),A=n(50),T=r(A),C=n(55),U=r(C);t.default=function(e){var t=new f.default(e),n=o.middlewares.managementApiClient({domain:(0,u.default)("AUTH0_DOMAIN"),clientId:(0,u.default)("AUTH0_CLIENT_ID"),clientSecret:(0,u.default)("AUTH0_CLIENT_SECRET")}),r=(0,i.Router)();return r.use(o.middlewares.authenticateUsers.optional({domain:(0,u.default)("AUTH0_DOMAIN"),audience:(0,u.default)("EXTENSION_CLIENT_ID"),credentialsRequired:!0})),r.use(s.getUserAccessLevel),r.use((0,s.hasAccessLevel)(l.USER_ACCESS_LEVEL)),r.use("/applications",n,(0,h.default)()),r.use("/connections",n,(0,g.default)(t)),r.use("/organization",n,(0,y.default)(t)),r.use("/languages",n,(0,b.default)(t)),r.use("/scripts",(0,s.hasAccessLevel)(l.ADMIN_ACCESS_LEVEL),(0,x.default)(e,t)),r.use("/users",n,(0,U.default)(e,t)),r.use("/logs",n,(0,T.default)(t)),r.use("/me",(0,E.default)(t)),r.get("/settings",function(e,n,r){var i={request:{user:e.user}};t.execute("settings",i).then(function(e){return n.json({settings:e||{}})}).catch(r)}),r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5),i=function(e){return e&&e.__esModule?e:{default:e}}(r),o=n(1);t.default=function(){var e=(0,o.Router)();return e.get("/",function(e,t,n){e.auth0.clients.getAll({fields:"client_id,name,callbacks,global,app_type"}).then(function(e){return i.default.chain(e).filter(function(e){return!e.global&&("spa"===e.app_type||"native"===e.app_type||"regular_web"===e.app_type)}).sortBy(function(e){return e.name.toLowerCase()}).value()}).then(function(e){return t.json(e)}).catch(n)}),e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5),i=function(e){return e&&e.__esModule?e:{default:e}}(r),o=n(1);t.default=function(e){var t=(0,o.Router)();return t.get("/",function(t,n,r){t.auth0.connections.getAll({fields:"id,name,strategy,enabled_clients,options"}).then(function(n){var r={request:{user:t.user}};return e.execute("settings",r).then(function(e){var t=i.default.chain(n).filter(function(e){return"auth0"===e.strategy}).sortBy(function(e){return e.name.toLowerCase()}).value();return e&&e.connections&&Array.isArray(e.connections)&&e.connections.length&&(t=t.filter(function(t){return e.connections.indexOf(t.name)>=0})),t})}).then(function(e){return n.json(e)}).catch(r)}),t}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=n(3),s=n(2),a=r(s),u=n(4),c=r(u);t.default=function(){var e=o.middlewares.validateHookToken((0,a.default)("AUTH0_DOMAIN"),(0,a.default)("WT_URL"),(0,a.default)("EXTENSION_SECRET")),t=(0,i.Router)();return t.use("/on-uninstall",e("/.extensions/on-uninstall")),t.use(o.middlewares.managementApiClient({domain:(0,a.default)("AUTH0_DOMAIN"),clientId:(0,a.default)("AUTH0_CLIENT_ID"),clientSecret:(0,a.default)("AUTH0_CLIENT_SECRET")})),t.delete("/on-uninstall",function(e,t){c.default.debug("Uninstall running..."),e.auth0.clients.delete({client_id:(0,a.default)("AUTH0_CLIENT_ID")}).then(function(){c.default.debug("Deleted client: "+(0,a.default)("AUTH0_CLIENT_ID")),t.sendStatus(204)}).catch(function(e){c.default.debug("Error deleting client: "+(0,a.default)("AUTH0_CLIENT_ID")),c.default.error(e),t.sendStatus(204)})}),t}},function(e,t,n){"use strict";(function(e){function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(17),o=(r(i),n(107)),s=(r(o),n(106)),a=r(s),u=n(14),c=(r(u),n(3)),l=n(2),d=r(l);t.default=function(){var e='\n  <!DOCTYPE html>\n  <html lang="en">\n  <head>\n    <title><%= config.TITLE %></title>\n    <meta charset="UTF-8" />\n    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />\n    <meta name="viewport" content="width=device-width, initial-scale=1.0" />\n    <link rel="shortcut icon" href="https://cdn.auth0.com/styleguide/4.6.13/lib/logos/img/favicon.png">\n    <meta name="viewport" content="width=device-width, initial-scale=1">\n    <link rel="stylesheet" type="text/css" href="https://cdn.auth0.com/styles/zocial.min.css" />\n    <link rel="stylesheet" type="text/css" href="https://cdn.auth0.com/manage/v0.3.1672/css/index.min.css" />\n    <link rel="stylesheet" type="text/css" href="https://cdn.auth0.com/styleguide/4.6.13/index.min.css" />\n    <% if (assets.style) { %><link rel="stylesheet" type="text/css" href="/app/<%= assets.style %>" /><% } %>\n    <% if (assets.version) { %><link rel="stylesheet" type="text/css" href="https://cdn.rawgit.com/ETDAU/open-sims-delegated-admin-assets/master/open-sims-delegated-admin.ui.<%= assets.version %>.css" /><% } %>\n    <% if (assets.customCss) { %><link rel="stylesheet" type="text/css" href="<%= assets.customCss %>" /><% } %>\n  </head>\n  <body>\n    <div id="app"></div>\n    <script type="text/javascript" src="//cdn.auth0.com/w2/auth0-7.6.1.min.js"><\/script>\n    <script type="text/javascript" src="//cdn.auth0.com/manage/v0.3.1672/js/bundle.js"><\/script>\n    <script type="text/javascript">window.config = <%- JSON.stringify(config) %>;<\/script>\n    <% if (assets.vendors) { %><script type="text/javascript" src="/app/<%= assets.vendors %>"><\/script><% } %>\n    <% if (assets.app) { %><script type="text/javascript" src="/app/<%= assets.app %>"><\/script><% } %>\n    <% if (assets.version) { %>\n    <script type="text/javascript" src="https://cdn.rawgit.com/ETDAU/open-sims-delegated-admin-assets/c10aa43/open-sims-delegated-admin.ui.vendors.<%= assets.version %>.js"><\/script>\n    <script type="text/javascript" src="https://cdn.rawgit.com/ETDAU/open-sims-delegated-admin-assets/c10aa43/open-sims-delegated-admin.ui.<%= assets.version %>.js"><\/script>\n    <% } %>\n  </body>\n  </html>\n  ';return function(t,n,r){if(0===t.url.indexOf("/api"))return r();var i={AUTH0_DOMAIN:(0,d.default)("AUTH0_DOMAIN"),AUTH0_CLIENT_ID:(0,d.default)("EXTENSION_CLIENT_ID"),BASE_URL:c.urlHelpers.getBaseUrl(t),BASE_PATH:c.urlHelpers.getBasePath(t),TITLE:(0,d.default)("TITLE"),FEDERATED_LOGOUT:"true"===(0,d.default)("FEDERATED_LOGOUT")};return n.send(a.default.render(e,{config:i,assets:{customCss:(0,d.default)("CUSTOM_CSS"),version:"2.4.7"}}))}}}).call(t,"/")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5),i=(function(e){e&&e.__esModule}(r),n(1));t.default=function(e){var t=["English","French"],n=(0,i.Router)();return n.get("/",function(e,n,r){n.json(t)}),n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(8),i=function(e){return e&&e.__esModule?e:{default:e}}(r),o=n(1),s=n(0),a=n(9),u=n(6),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(u);t.default=function(e){var t=(0,o.Router)();return t.get("/",(0,a.hasAccessLevel)(c.ADMIN_ACCESS_LEVEL),function(e,t,n){e.auth0.logs.getAll({q:"NOT type: sapi AND NOT type:fapi",include_totals:!0,sort:"date:-1",per_page:20,page:e.query.page||0,fields:"type,date,client_name,user_name,description,connection"}).then(function(e){return t.json(e)}).catch(n)}),t.get("/:id",function(t,n,r){t.auth0.logs.get({id:t.params.id}).then(function(n){return!n||"fapi"!==n.type&&"sapi"!==n.type?t.user.role===c.ADMIN_ACCESS_LEVEL?n:t.auth0.users.get({id:n.user_id}).then(function(r){if(!r)throw new s.NotFoundError("User not found: "+t.params.id);var i={request:{user:t.user},payload:{user:r}};return e.execute("access",i).then(function(){return n})}):i.default.reject(new Error("Invalid log record."))}).then(function(e){return n.json({log:e})}).catch(r)}),t}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=r(i),s=n(4),a=r(s);t.default=function(e){var t=o.default.Router();return t.get("/",function(t,n){var r={createMemberships:!1,memberships:[],role:t.user.role||0},i={request:{user:t.user},payload:{user:t.user}};e.execute("memberships",i).then(function(e){return e&&Array.isArray(e)?r.memberships=e:e&&(r.createMemberships=e.createMemberships||!1,r.memberships=e.memberships||[]),n.json(r)}).catch(function(e){e&&a.default.error(e.message),n.json(r)})}),t}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=r(i),s=n(93),a=r(s);t.default=function(){var e=o.default.Router();return e.get("/",function(e,t){t.status(200).send(a.default)}),e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5),i=(function(e){e&&e.__esModule}(r),n(1));t.default=function(e){var t=n(92),r=(0,i.Router)();return r.get("/",function(e,n,r){n.json(t)}),r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(0),o=n(6),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(o);t.default=function(e,t){var n=(0,r.Router)();return n.get("/:name",function(e,n,r){return s.VALID_SCRIPTS.indexOf(e.params.name)<0?r(new i.ValidationError("Invalid script name: "+e.params.name)):t.get(e.params.name).then(function(e){return n.json({script:e})}).catch(r)}),n.post("/:name",function(e,n,r){return s.VALID_SCRIPTS.indexOf(e.params.name)<0?r(new i.ValidationError("Invalid script name: "+e.params.name)):t.save(e.params.name,e.body.script).then(function(){return n.status(200).send()}).catch(r)}),n}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(102),o=r(i),s=n(113),a=r(s),u=n(8),c=r(u),l=n(1),d=n(0),f=n(2),p=r(f),h=n(9);t.default=function(e,t){function n(e){if(!e)return e;var t=e.split(":");if("name"===t[0]){return"(name:*"+t[1]+"* OR user_metadata.name:*"+t[1]+"* OR given_name:*"+t[1]+"* OR family_name:*"+t[1]+"*)"}if("email"===t[0]){return"email:*"+t[1]+"*"}return e}function r(e,t){return e.auth0.users.getAll(t)}var i=(0,l.Router)();return i.post("/signup",function(e,n,r){if(!e.body.email||0===e.body.email.length)return r(new d.ValidationError("The email address is required."));if(e.body.password!==e.body.repeatPassword)return r(new d.ValidationError("The passwords do not match."));var i={request:{user:e.user},payload:{email:e.body.email,username:e.body.username,connection:e.body.connection,memberships:e.body.memberships,password:e.body.password,firstname:e.body.firstname,lastname:e.body.lastname,language:e.body.language,organization:e.body.organization,otherorganization:e.body.otherorganization,orgtype:e.body.orgtype},defaultPayload:{email:e.body.email,username:e.body.username,password:e.body.password,connection:e.body.connection,app_metadata:e.body.memberships&&e.body.memberships.length&&{memberships:e.body.memberships}||{}}};return t.execute("create",i).then(function(t){console.log(t),e.auth0.users.create(t||i.defaultPayload,function(t){if(t)return r(t);e.auth0.users.delete({id:e.body.signupuserid}).then(function(){return n.sendStatus(201)})})}).catch(r)}),i.post("/",function(e,n,r){if(!e.body.email||0===e.body.email.length)return r(new d.ValidationError("The email address is required."));if(e.body.password!==e.body.repeatPassword)return r(new d.ValidationError("The passwords do not match."));var i={request:{user:e.user},payload:{email:e.body.email,username:e.body.username,connection:e.body.connection,memberships:e.body.memberships,password:e.body.password,firstname:e.body.firstname,lastname:e.body.lastname,language:e.body.language,organization:e.body.organization,otherorganization:e.body.otherorganization,orgtype:e.body.orgtype},defaultPayload:{email:e.body.email,username:e.body.username,password:e.body.password,connection:e.body.connection,app_metadata:e.body.memberships&&e.body.memberships.length&&{memberships:e.body.memberships}||{}}};return t.execute("create",i).then(function(t){return e.auth0.users.create(t||i.defaultPayload)}).then(function(){return n.status(201).send()}).catch(r)}),i.get("/",function(e,r,i){var o={request:{user:e.user},payload:{search:e.query.search}},s=n(e.query.search);t.execute("filter",o).then(function(t){var n={sort:"email:1",q:s&&t?"("+s+") AND "+t:s||t,per_page:e.query.per_page||100,page:e.query.page||0,include_totals:!0,fields:"user_id,name,email,identities,picture,last_login,logins_count,multifactor,blocked,app_metadata,family_name,given_name",search_engine:"v2"};return e.auth0.users.getAll(n)}).then(function(n){return c.default.map(n.users,function(n){return t.execute("access",{request:{user:e.user},payload:{user:n,action:"read:user"}})}).then(function(){return n})}).then(function(e){return r.json(e)}).catch(i)}),i.get("/export",function(e,i,o){var s={request:{user:e.user},payload:{search:e.query.search}},a=n(e.query.search),u="";t.execute("filter",s).then(function(t){var n={sort:"email:1",q:a&&t?"("+a+") AND "+t:a||t,per_page:e.query.per_page||100,page:e.query.page||0,include_totals:!0,fields:"user_id",search_engine:"v2"};return u=t,r(e,n)}).then(function(t){for(var n=[],i=parseInt(t.total/100)+(t.total%100==0?0:1),o=0;o<i;o++)n.push(r(e,{sort:"email:1",q:u,per_page:100,page:o,include_totals:!0,fields:"user_id,username,email,user_metadata",search_engine:"v2"}));return c.default.all(n)}).then(function(e){var t=function(e,t,n){return 1===n?e.users.concat(t.users):e.concat(t.users)},n=e.reduce(t);i.json(n)}).catch(o)}),i.get("/signedup-user",function(e,t,r){var i=(e.user,e.query.search,n(e.query.search)),o='identities.connection:OpenSimsSignup OR (identities.connection:SAML-OPS-IDP AND app_metadata.pending:"true")',s={sort:"email:1",q:i?"("+i+") AND "+o:i||o,per_page:e.query.per_page||100,page:e.query.page||0,include_totals:!0,fields:"user_id,name,email,identities,picture,last_login,logins_count,multifactor,blocked,app_metadata,family_name,given_name,department,ministry",search_engine:"v2"};e.auth0.users.getAll(s).then(function(e){t.json(e)}).catch(r)}),i.get("/:id",(0,h.verifyUserAccess)("read:user",t),function(e,n,r){e.auth0.users.get({id:e.params.id}).then(function(n){console.log("Get a single user"),console.log(n),console.log("end single user");var r={request:{user:e.user},payload:{user:n}};return t.execute("memberships",r).then(function(e){return e&&Array.isArray(e)?{user:n,memberships:e}:e&&e.memberships?(n.memberships=e.memberships,{user:n,memberships:e.memberships}):{user:n,memberships:[]}})}).then(function(e){return n.json(e)}).catch(r)}),i.delete("/:id",(0,h.verifyUserAccess)("delete:user",t),function(e,t,n){return e.user.sub===e.params.id?n(new d.ValidationError("You cannot delete yourself.")):e.auth0.users.delete({id:e.params.id}).then(function(){return t.sendStatus(204)}).catch(n)}),i.post("/:id/password-reset",(0,h.verifyUserAccess)("reset:password",t),function(e,t,n){var r=new o.default.AuthenticationClient({domain:(0,p.default)("AUTH0_DOMAIN"),clientId:(0,p.default)("AUTH0_CLIENT_ID")});e.auth0.users.get({id:e.params.id,fields:"email"}).then(function(t){return{email:t.email,connection:e.body.connection,client_id:e.body.clientId}}).then(function(e){return r.requestChangePasswordEmail(e)}).then(function(){return t.sendStatus(204)}).catch(n)}),i.put("/:id/change-password",(0,h.verifyUserAccess)("change:password",t),function(e,t,n){return e.body.password!==e.body.confirmPassword?n(new d.ArgumentError("Passwords don't match")):e.auth0.users.update({id:e.params.id},{password:e.body.password,connection:e.body.connection,verify_password:!1}).then(function(){return t.sendStatus(204)}).catch(n)}),i.put("/:id/change-username",(0,h.verifyUserAccess)("change:username",t),function(e,t,n){return e.auth0.users.update({id:e.params.id},{username:e.body.username}).then(function(){return t.sendStatus(204)}).catch(n)}),i.put("/:id/change-email",(0,h.verifyUserAccess)("change:email",t),function(e,t,n){return e.auth0.users.update({id:e.params.id},{email:e.body.email}).then(function(){return t.sendStatus(204)}).catch(n)}),i.put("/:id/change-user-info",(0,h.verifyUserAccess)("change:userinfo",t),function(e,n,r){var i=e.body.organization||"",o=e.body.organizationother||"",s=e.body.orgtype||"",a=e.body.language||"",u=e.body.pending;e.auth0.users.get({id:e.params.id}).then(function(c){var l={request:{user:e.user},payload:{user:c},memberships:e.body.memberships},d={};if("auth0"===c.identities[0].provider&&(d={user_metadata:{name:e.body.name,given_name:e.body.given_name,family_name:e.body.family_name}},0===d.user_metadata.family_name.length||0==d.user_metadata.given_name.length))return r(new Error("First Name and Last Name are required fields."));if(d.hasOwnProperty("user_metadata")||(d.user_metadata={}),!(a.length>0))return r(new Error("You must select a language preference."));if(d.user_metadata.language=a,"Other"==i){if(0==o.length)return r(new Error("You must specify a organization name."));i=o}if(s.length>0){if(0==i.length)return r(new Error("You must specify a organization name."));d.user_metadata.orgtype=s,d.user_metadata.organization=i}else d.user_metadata.orgtype="",d.user_metadata.organization="";"samlp"===c.identities[0].provider&&u&&(d.app_metadata={pending:"true"===u}),e.auth0.users.update({id:e.params.id},d).then(function(){t.execute("memberships",l).then(function(e){console.log("completed updating memberships"),n.sendStatus(204)}).catch(r)}).catch(r)})}),i.get("/:id/devices",(0,h.verifyUserAccess)("read:devices",t),function(e,t,n){e.auth0.deviceCredentials.getAll({user_id:e.params.id}).then(function(e){return t.json({devices:e})}).catch(n)}),i.get("/:id/logs",(0,h.verifyUserAccess)("read:logs",t),function(e,t,n){d.managementApi.getAccessTokenCached((0,p.default)("AUTH0_DOMAIN"),(0,p.default)("AUTH0_CLIENT_ID"),(0,p.default)("AUTH0_CLIENT_SECRET")).then(function(r){var i={uri:"https://"+(0,p.default)("AUTH0_DOMAIN")+"/api/v2/users/"+encodeURIComponent(e.params.id)+"/logs",qs:{include_totals:!0},headers:{authorization:"Bearer "+r},json:!0};return a.default.get(i,function(e,r,i){return e?n(e):r.statusCode<200||r.statusCode>=300?n(new Error(i&&(i.error||i.message||i.code)||"Request Error: "+r.statusCode)):t.json(i)}),a.default.get(i)}).catch(n)}),i.delete("/:id/multifactor/:provider",(0,h.verifyUserAccess)("remove:multifactor-provider",t),function(e,t,n){e.auth0.users.deleteMultifactorProvider({id:e.params.id,provider:e.params.provider}).then(function(){return t.sendStatus(204)}).catch(n)}),i.put("/:id/block",(0,h.verifyUserAccess)("block:user",t),function(e,t,n){e.auth0.users.update({id:e.params.id},{blocked:!0}).then(function(){return t.sendStatus(204)}).catch(n)}),i.put("/:id/unblock",(0,h.verifyUserAccess)("unblock:user",t),function(e,t,n){e.auth0.users.update({id:e.params.id},{blocked:!1}).then(function(){return t.sendStatus(204)}).catch(n)}),i.post("/:id/send-verification-email",(0,h.verifyUserAccess)("send:verification-email",t),function(e,t,n){var r={user_id:e.params.id};e.auth0.jobs.verifyEmail(r).then(function(){return t.status(204).send()}).catch(n)}),i}},function(e,t,n){"use strict";var r=n(3),i=n(27),o=n(2),s=n(4),a=r.createServer(function(e,t){return s.info("Starting Open Sims Delegated Admin Extension - Version:","2.4.7"),i(e,t)});e.exports=function(e,t,n){o.setValue("PUBLIC_WT_URL",r.urlHelpers.getWebtaskUrl(t)),a(e,t,n)}},function(e,t,n){e.exports={default:n(63),__esModule:!0}},function(e,t,n){e.exports={default:n(64),__esModule:!0}},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t,n){"use strict";t.__esModule=!0;var r=n(58),i=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,i.default)(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()},function(e,t,n){"use strict";function r(e,t){return function(n,r,i){if(n.cookies)return i();var s=n.headers.cookie,c=!e||Array.isArray(e)?e||[]:[e];if(n.secret=c[0],n.cookies=Object.create(null),n.signedCookies=Object.create(null),!s)return i();n.cookies=u.parse(s,t),0!==c.length&&(n.signedCookies=a(n.cookies,c),n.signedCookies=o(n.signedCookies)),n.cookies=o(n.cookies),i()}}function i(e){if("string"==typeof e&&"j:"===e.substr(0,2))try{return JSON.parse(e.slice(2))}catch(e){return}}function o(e){for(var t,n,r=Object.keys(e),o=0;o<r.length;o++)t=r[o],(n=i(e[t]))&&(e[t]=n);return e}function s(e,t){if("string"==typeof e){if("s:"!==e.substr(0,2))return e;for(var n=!t||Array.isArray(t)?t||[]:[t],r=0;r<n.length;r++){var i=c.unsign(e.slice(2),n[r]);if(!1!==i)return i}return!1}}function a(e,t){for(var n,r,i,o=Object.keys(e),a=Object.create(null),u=0;u<o.length;u++)r=o[u],i=e[r],n=s(i,t),i!==n&&(a[r]=n,delete e[r]);return a}var u=n(62),c=n(104);e.exports=r,e.exports.JSONCookie=i,e.exports.JSONCookies=o,e.exports.signedCookie=s,e.exports.signedCookies=a},function(e,t,n){"use strict";function r(e,t){if("string"!=typeof e)throw new TypeError("argument str must be a string");for(var n={},r=t||{},i=e.split(u),a=r.decode||s,c=0;c<i.length;c++){var l=i[c],d=l.indexOf("=");if(!(d<0)){var f=l.substr(0,d).trim(),p=l.substr(++d,l.length).trim();'"'==p[0]&&(p=p.slice(1,-1)),void 0==n[f]&&(n[f]=o(p,a))}}return n}function i(e,t,n){var r=n||{},i=r.encode||a;if("function"!=typeof i)throw new TypeError("option encode is invalid");if(!c.test(e))throw new TypeError("argument name is invalid");var o=i(t);if(o&&!c.test(o))throw new TypeError("argument val is invalid");var s=e+"="+o;if(null!=r.maxAge){var u=r.maxAge-0;if(isNaN(u))throw new Error("maxAge should be a Number");s+="; Max-Age="+Math.floor(u)}if(r.domain){if(!c.test(r.domain))throw new TypeError("option domain is invalid");s+="; Domain="+r.domain}if(r.path){if(!c.test(r.path))throw new TypeError("option path is invalid");s+="; Path="+r.path}if(r.expires){if("function"!=typeof r.expires.toUTCString)throw new TypeError("option expires is invalid");s+="; Expires="+r.expires.toUTCString()}if(r.httpOnly&&(s+="; HttpOnly"),r.secure&&(s+="; Secure"),r.sameSite){switch("string"==typeof r.sameSite?r.sameSite.toLowerCase():r.sameSite){case!0:s+="; SameSite=Strict";break;case"lax":s+="; SameSite=Lax";break;case"strict":s+="; SameSite=Strict";break;default:throw new TypeError("option sameSite is invalid")}}return s}function o(e,t){try{return t(e)}catch(t){return e}}t.parse=r,t.serialize=i;var s=decodeURIComponent,a=encodeURIComponent,u=/; */,c=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/},function(e,t,n){n(88),e.exports=n(10).Object.assign},function(e,t,n){n(89);var r=n(10).Object;e.exports=function(e,t,n){return r.defineProperty(e,t,n)}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){var r=n(13);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t,n){var r=n(23),i=n(84),o=n(83);e.exports=function(e){return function(t,n,s){var a,u=r(t),c=i(u.length),l=o(s,c);if(e&&n!=n){for(;c>l;)if((a=u[l++])!=a)return!0}else for(;c>l;l++)if((e||l in u)&&u[l]===n)return e||l||0;return!e&&-1}}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){var r=n(65);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},function(e,t,n){var r=n(13),i=n(12).document,o=r(i)&&r(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){var r=n(21),i=n(80);e.exports=n(7)?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){e.exports=!n(7)&&!n(11)(function(){return 7!=Object.defineProperty(n(70)("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){"use strict";var r=n(78),i=n(76),o=n(79),s=n(85),a=n(20),u=Object.assign;e.exports=!u||n(11)(function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach(function(e){t[e]=e}),7!=u({},e)[n]||Object.keys(u({},t)).join("")!=r})?function(e,t){for(var n=s(e),u=arguments.length,c=1,l=i.f,d=o.f;u>c;)for(var f,p=a(arguments[c++]),h=l?r(p).concat(l(p)):r(p),m=h.length,g=0;m>g;)d.call(p,f=h[g++])&&(n[f]=p[f]);return n}:u},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){var r=n(72),i=n(23),o=n(67)(!1),s=n(81)("IE_PROTO");e.exports=function(e,t){var n,a=i(e),u=0,c=[];for(n in a)n!=s&&r(a,n)&&c.push(n);for(;t.length>u;)r(a,n=t[u++])&&(~o(c,n)||c.push(n));return c}},function(e,t,n){var r=n(77),i=n(71);e.exports=Object.keys||function(e){return r(e,i)}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var r=n(82)("keys"),i=n(87);e.exports=function(e){return r[e]||(r[e]=i(e))}},function(e,t,n){var r=n(12),i=r["__core-js_shared__"]||(r["__core-js_shared__"]={});e.exports=function(e){return i[e]||(i[e]={})}},function(e,t,n){var r=n(22),i=Math.max,o=Math.min;e.exports=function(e,t){return e=r(e),e<0?i(e+t,0):o(e,t)}},function(e,t,n){var r=n(22),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},function(e,t,n){var r=n(18);e.exports=function(e){return Object(r(e))}},function(e,t,n){var r=n(13);e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t,n){var r=n(19);r(r.S+r.F,"Object",{assign:n(75)})},function(e,t,n){var r=n(19);r(r.S+r.F*!n(7),"Object",{defineProperty:n(21).f})},function(e,t){function n(e,t){Error.call(this,t.message),Error.captureStackTrace(this,this.constructor),this.name="UnauthorizedError",this.message=t.message,this.code=e,this.status=401,this.inner=t}n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,e.exports=n},function(e,t,n){function r(e,t){var n="string"==typeof e&&e===t||e instanceof RegExp&&!!e.exec(t);return e instanceof RegExp&&(e.lastIndex=0),e&&e.url&&(n=r(e.url,t)),n}function i(e,t){return!e||(e=Array.isArray(e)?e:[e],!!~e.indexOf(t))}var o=n(26);e.exports=function(e){var t=this,n="function"==typeof e?{custom:e}:e;return n.useOriginalUrl=void 0===n.useOriginalUrl||n.useOriginalUrl,function(e,s,a){var u=o.parse((n.useOriginalUrl?e.originalUrl:e.url)||e.url||"",!0),c=!1;n.custom&&(c=c||n.custom(e));var l=!n.path||Array.isArray(n.path)?n.path:[n.path];l&&(c=c||l.some(function(t){return r(t,u.pathname)&&i(t.methods,e.method)}));var d=!n.ext||Array.isArray(n.ext)?n.ext:[n.ext];d&&(c=c||d.some(function(e){return u.pathname.substr(-1*e.length)===e}));var f=!n.method||Array.isArray(n.method)?n.method:[n.method];if(f&&(c=c||!!~f.indexOf(e.method)),c)return a();t(e,s,a)}}},function(e,t){e.exports=[{InstitutionType:"Colleges",InstitutionName:"Algonquin College"},{InstitutionType:"Colleges",InstitutionName:"Algonquin College"},{InstitutionType:"Colleges",InstitutionName:"Cambrian College"},{InstitutionType:"Colleges",InstitutionName:"Canadore College"},{InstitutionType:"Colleges",InstitutionName:"Centennial College"},{InstitutionType:"Colleges",InstitutionName:"Collège Boréal"},{InstitutionType:"Colleges",InstitutionName:"Conestoga College"},{InstitutionType:"Colleges",InstitutionName:"Confederation College"},{InstitutionType:"Colleges",InstitutionName:"Durham College"},{InstitutionType:"Colleges",InstitutionName:"Fanshawe College"},{InstitutionType:"Colleges",InstitutionName:"Sir Sandford Fleming College"},{InstitutionType:"Colleges",InstitutionName:"Sir Sandford Fleming College"},{InstitutionType:"Colleges",InstitutionName:"George Brown College"},{InstitutionType:"Colleges",InstitutionName:"Georgian College"},{InstitutionType:"Colleges",InstitutionName:"Humber College"},{InstitutionType:"Colleges",InstitutionName:"La Cite Collegiale"},{InstitutionType:"Colleges",InstitutionName:"Lambton College"},{InstitutionType:"Colleges",InstitutionName:"Loyalist College"},{InstitutionType:"Colleges",InstitutionName:"Mohawk College"},{InstitutionType:"Colleges",InstitutionName:"Niagara College"},{InstitutionType:"Colleges",InstitutionName:"Northern College"},{InstitutionType:"Colleges",InstitutionName:"Northern College"},{InstitutionType:"Colleges",InstitutionName:"Northern College"},{InstitutionType:"Colleges",InstitutionName:"Sault College"},{InstitutionType:"Colleges",InstitutionName:"Seneca College"},{InstitutionType:"Colleges",InstitutionName:"Sheridan College"},{InstitutionType:"Colleges",InstitutionName:"St. Clair College"},{InstitutionType:"Colleges",InstitutionName:"St. Lawrence College"},{InstitutionType:"Colleges",InstitutionName:"St. Lawrence College"},{InstitutionType:"Colleges",InstitutionName:"St. Lawrence College"},{InstitutionType:"Universities",InstitutionName:"Algoma University"},{InstitutionType:"Universities",InstitutionName:"Brock University"},{InstitutionType:"Universities",InstitutionName:"Carleton University"},{InstitutionType:"Universities",InstitutionName:"Dominican University College"},{InstitutionType:"Universities",InstitutionName:"Lakehead University"},{InstitutionType:"Universities",InstitutionName:"Laurentian University"},{InstitutionType:"Universities",InstitutionName:"McMaster University"},{InstitutionType:"Universities",InstitutionName:"Nipissing University"},{InstitutionType:"Universities",InstitutionName:"Northern Ontario School of Medicine"},{InstitutionType:"Universities",InstitutionName:"OCAD University"},{InstitutionType:"Universities",InstitutionName:"Queen's University"},{InstitutionType:"Universities",InstitutionName:"Royal Military College of Canada"},{InstitutionType:"Universities",InstitutionName:"Ryerson University"},{InstitutionType:"Universities",InstitutionName:"University of Ottawa"},{InstitutionType:"Universities",InstitutionName:"Trent University"},{InstitutionType:"Universities",InstitutionName:"University of Guelph"},{InstitutionType:"Universities",InstitutionName:"University of Guelph"},{InstitutionType:"Universities",InstitutionName:"University of Guelph"},{InstitutionType:"Universities",InstitutionName:"University of Guelph"},{InstitutionType:"Universities",InstitutionName:"University of Ontario Inst of Technology"},{InstitutionType:"Universities",InstitutionName:"University of Ottawa"},{InstitutionType:"Universities",InstitutionName:"University of Toronto"},{InstitutionType:"Universities",InstitutionName:"University of Waterloo"},{InstitutionType:"Universities",InstitutionName:"University of Windsor"},{InstitutionType:"Universities",InstitutionName:"Western University"},{InstitutionType:"Universities",InstitutionName:"Wilfrid Laurier University"},{InstitutionType:"Universities",InstitutionName:"York University"},{InstitutionType:"MAESD",InstitutionName:"DMO"},{InstitutionType:"MAESD",InstitutionName:"WPID"},{InstitutionType:"MAESD",InstitutionName:"ETD"},{InstitutionType:"MAESD",InstitutionName:"AELSD"},{InstitutionType:"MAESD",InstitutionName:"PSED"},{InstitutionType:"MAESD",InstitutionName:"CSC"},{InstitutionType:"Other Ministry",InstitutionName:"MOI"},{InstitutionType:"Other Ministry",InstitutionName:"MEDU"},{InstitutionType:"Other Ministry",InstitutionName:"MOL"},{InstitutionType:"Non-Government",InstitutionName:"HEQCO"},{InstitutionType:"Non-Government",InstitutionName:"OCUFA"},{InstitutionType:"Non-Government",InstitutionName:"COU"},{InstitutionType:"Non-Government",InstitutionName:"CO"},{InstitutionType:"Non-Government",InstitutionName:"ONCAT"},{InstitutionType:"Non-Government",InstitutionName:"OPSEU"},{InstitutionType:"Non-Government",InstitutionName:"OUSA"},{InstitutionType:"Non-Government",InstitutionName:"CFS"},{InstitutionType:"Non-Government",InstitutionName:"CSA"}]},function(e,t){e.exports={title:"Open Sims Delegated Administration Dashboard",name:"open-sims-auth0-delegated-admin",version:"2.4.7",author:"csc",useHashName:!1,description:"This extension allows non-dashboard administrators to manage (a subset of) users.",type:"application",category:"end_user",logoUrl:"https://cdn.auth0.com/extensions/auth0-delegated-admin/assets/logo.svg",initialUrlPath:"/",docsUrl:"https://auth0.com/docs/extensions/delegated-admin",repository:"https://github.com/ETDAU/opensims-auth0-delegation-extension",keywords:["auth0","extension"],auth0:{createClient:!0,onUninstallPath:"/.extensions/on-uninstall",scopes:"read:clients delete:clients read:connections read:users update:users delete:users create:users read:logs read:device_credentials update:device_credentials delete:device_credentials"},secrets:{EXTENSION_CLIENT_ID:{description:"Client ID of the application you created in the Auth0 Dashboard",required:!0},TITLE:{description:"Custom title for the dashboard",example:"Open SIMS User Manager",required:!0},CUSTOM_CSS:{description:"A CSS file containing custom styles for the extension",example:"https://cdn.fabrikam.com/static/extensions/theme/fabrikam.css",required:!1},FEDERATED_LOGOUT:{description:"Also sign out from the IDP when users logout?",type:"select",allowMultiple:!1,options:[{value:"false",text:"No"},{value:"true",text:"Yes"}]}}}},function(e,t){function n(e){this.message=e}function r(e){var t=String(e).replace(/=+$/,"");if(t.length%4==1)throw new n("'atob' failed: The string to be decoded is not correctly encoded.");for(var r,o,s=0,a=0,u="";o=t.charAt(a++);~o&&(r=s%4?64*r+o:o,s++%4)?u+=String.fromCharCode(255&r>>(-2*s&6)):0)o=i.indexOf(o);return u}var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";n.prototype=new Error,n.prototype.name="InvalidCharacterError",e.exports="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||r},function(e,t,n){function r(e){return decodeURIComponent(i(e).replace(/(.)/g,function(e,t){var n=t.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n}))}var i=n(94);e.exports=function(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!"}try{return r(t)}catch(e){return i(t)}}},function(e,t){function n(e,t){return null==e?void 0:e[t]}function r(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function i(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function o(){this.__data__=be?be(null):{}}function s(e){return this.has(e)&&delete this.__data__[e]}function a(e){var t=this.__data__;if(be){var n=t[e];return n===G?void 0:n}return he.call(t,e)?t[e]:void 0}function u(e){var t=this.__data__;return be?void 0!==t[e]:he.call(t,e)}function c(e,t){return this.__data__[e]=be&&void 0===t?G:t,this}function l(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function d(){this.__data__=[]}function f(e){var t=this.__data__,n=I(t,e);return!(n<0)&&(n==t.length-1?t.pop():ye.call(t,n,1),!0)}function p(e){var t=this.__data__,n=I(t,e);return n<0?void 0:t[n][1]}function h(e){return I(this.__data__,e)>-1}function m(e,t){var n=this.__data__,r=I(n,e);return r<0?n.push([e,t]):n[r][1]=t,this}function g(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function v(){this.__data__={hash:new i,map:new(_e||l),string:new i}}function y(e){return U(this,e).delete(e)}function _(e){return U(this,e).get(e)}function b(e){return U(this,e).has(e)}function w(e,t){return U(this,e).set(e,t),this}function x(e,t,n){var r=e[t];he.call(e,t)&&P(r,n)&&(void 0!==n||t in e)||(e[t]=n)}function I(e,t){for(var n=e.length;n--;)if(P(e[n][0],t))return n;return-1}function E(e){return!(!R(e)||M(e))&&(D(e)||r(e)?ge:re).test(L(e))}function A(e,t,n,r){if(!R(e))return e;t=O(t,e)?[t]:C(t);for(var i=-1,o=t.length,s=o-1,a=e;null!=a&&++i<o;){var u=j(t[i]),c=n;if(i!=s){var l=a[u];c=r?r(l,u,a):void 0,void 0===c&&(c=R(l)?l:N(t[i+1])?[]:{})}x(a,u,c),a=a[u]}return e}function T(e){if("string"==typeof e)return e;if(F(e))return xe?xe.call(e):"";var t=e+"";return"0"==t&&1/e==-W?"-0":t}function C(e){return Ee(e)?e:Ie(e)}function U(e,t){var n=e.__data__;return k(t)?n["string"==typeof t?"string":"hash"]:n.map}function S(e,t){var r=n(e,t);return E(r)?r:void 0}function N(e,t){return!!(t=null==t?$:t)&&("number"==typeof e||ie.test(e))&&e>-1&&e%1==0&&e<t}function O(e,t){if(Ee(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!F(e))||(Q.test(e)||!K.test(e)||null!=t&&e in Object(t))}function k(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}function M(e){return!!fe&&fe in e}function j(e){if("string"==typeof e||F(e))return e;var t=e+"";return"0"==t&&1/e==-W?"-0":t}function L(e){if(null!=e){try{return pe.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function q(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError(V);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=e.apply(this,r);return n.cache=o.set(i,s),s};return n.cache=new(q.Cache||g),n}function P(e,t){return e===t||e!==e&&t!==t}function D(e){var t=R(e)?me.call(e):"";return t==Y||t==J}function R(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function z(e){return!!e&&"object"==typeof e}function F(e){return"symbol"==typeof e||z(e)&&me.call(e)==X}function H(e){return null==e?"":T(e)}function B(e,t,n){return null==e?e:A(e,t,n)}var V="Expected a function",G="__lodash_hash_undefined__",W=1/0,$=9007199254740991,Y="[object Function]",J="[object GeneratorFunction]",X="[object Symbol]",K=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Q=/^\w*$/,Z=/^\./,ee=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,te=/[\\^$.*+?()[\]{}|]/g,ne=/\\(\\)?/g,re=/^\[object .+?Constructor\]$/,ie=/^(?:0|[1-9]\d*)$/,oe="object"==typeof global&&global&&global.Object===Object&&global,se="object"==typeof self&&self&&self.Object===Object&&self,ae=oe||se||Function("return this")(),ue=Array.prototype,ce=Function.prototype,le=Object.prototype,de=ae["__core-js_shared__"],fe=function(){var e=/[^.]+$/.exec(de&&de.keys&&de.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),pe=ce.toString,he=le.hasOwnProperty,me=le.toString,ge=RegExp("^"+pe.call(he).replace(te,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ve=ae.Symbol,ye=ue.splice,_e=S(ae,"Map"),be=S(Object,"create"),we=ve?ve.prototype:void 0,xe=we?we.toString:void 0;i.prototype.clear=o,i.prototype.delete=s,i.prototype.get=a,i.prototype.has=u,i.prototype.set=c,l.prototype.clear=d,l.prototype.delete=f,l.prototype.get=p,l.prototype.has=h,l.prototype.set=m,g.prototype.clear=v,g.prototype.delete=y,g.prototype.get=_,g.prototype.has=b,g.prototype.set=w;var Ie=q(function(e){e=H(e);var t=[];return Z.test(e)&&t.push(""),e.replace(ee,function(e,n,r,i){t.push(r?i.replace(ne,"$1"):n||e)}),t});q.Cache=g;var Ee=Array.isArray;e.exports=B},function(e,t,n){function r(e){var t=function(){return t.called?t.value:(t.called=!0,t.value=e.apply(this,arguments))};return t.called=!1,t}function i(e){var t=function(){if(t.called)throw new Error(t.onceError);return t.called=!0,t.value=e.apply(this,arguments)},n=e.name||"Function wrapped with `once`";return t.onceError=n+" shouldn't be called more than once",t.called=!1,t}var o=n(117);e.exports=o(r),e.exports.strict=o(i),r.proto=r(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return r(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return i(this)},configurable:!0})})},function(e,t){function n(e){throw new Error("Cannot find module '"+e+"'.")}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=98},function(e,t,n){var r=n(111),i=n(14).dirname;e.exports=function(e,t){function o(e){var n=r._cache;t&&(r._cache={});var i=r._load(e,s);return r._cache=n,i}var s=new r(e);s.filename=e,s.paths=r._nodeModulePaths(i(e)),o.resolve=function(e){var t=r._resolveFilename(e,s);return t instanceof Array?t[1]:t};try{o.paths=!function(){var e=new Error('Cannot find module "."');throw e.code="MODULE_NOT_FOUND",e}().paths}catch(e){}return o.main=process.mainModule,o.extensions=void 0,o.cache=n.c,o}},function(e,t,n){var r=n(114);e.exports=function(e,t,n){var i={},o="SAFE_EVAL_"+Math.floor(1e6*Math.random());return i[o]={},e=o+"="+e,t&&Object.keys(t).forEach(function(e){i[e]=t[e]}),r.runInNewContext(e,i,n),i[o]}},function(e,t){e.exports=require("async@2.1.2")},function(e,t){e.exports=require("auth0@2.4.0")},function(e,t){e.exports=require("body-parser@1.12.4")},function(e,t){e.exports=require("cookie-signature")},function(e,t){e.exports=require("crypto")},function(e,t){e.exports=require("ejs@2.3.1")},function(e,t){e.exports=require("fs")},function(e,t){e.exports=require("jsonwebtoken@7.1.9")},function(e,t){e.exports=require("jwks-rsa@1.1.1")},function(e,t){e.exports=require("lru-memoizer@1.10.0")},function(e,t){e.exports=require("module")},function(e,t){e.exports=require("morgan@1.5.3")},function(e,t){e.exports=require("request@2.67.0")},function(e,t){e.exports=require("vm")},function(e,t){e.exports=require("webtask-tools")},function(e,t){e.exports=require("winston@1.0.0")},function(e,t){e.exports=require("wrappy")}]);